/**
 * @generated from protocol/schemas/modules/groups/v1.json
 * @version 1.0.0
 * @minReaderVersion 1.0.0
 *
 * DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype
 */

// Version constants
export const GROUPS_VERSION = "1.0.0";
export const GROUPS_MIN_READER_VERSION = "1.0.0";

/**
 * A member of a group with role and permissions
 */
export interface GroupMember {
  _v: string;
  invitedBy?: string;
  joinedAt: number;
  permissions?: GroupPermission[];
  pubkey: string;
  role: GroupRole;
  [property: string]: any;
}

/**
 * Granular group permission
 */
export enum GroupPermission {
  CreateEvents = "create_events",
  CreateProposals = "create_proposals",
  EditGroup = "edit_group",
  InviteMembers = "invite_members",
  ManageEvents = "manage_events",
  PostMessages = "post_messages",
  RemoveMembers = "remove_members",
  Vote = "vote",
}

/**
 * Member role within a group
 */
export enum GroupRole {
  Admin = "admin",
  Member = "member",
  Moderator = "moderator",
  Owner = "owner",
}

/**
 * A BuildIt group (organization, chapter, team)
 */
export interface Group {
  _v: string;
  createdAt: number;
  createdBy: string;
  creationEventId: string;
  description: string;
  enabledModules: GroupModule[];
  /**
   * Deterministic ID based on creation event
   */
  id: string;
  location?: string;
  members: MemberElement[];
  metadataEventId?: string;
  name: string;
  picture?: string;
  privacyLevel: GroupPrivacyLevel;
  tags?: string[];
  website?: string;
  [property: string]: any;
}

/**
 * Module identifier that can be enabled per-group
 */
export enum GroupModule {
  CRM = "crm",
  CustomFields = "custom-fields",
  Database = "database",
  Documents = "documents",
  Events = "events",
  Files = "files",
  Forms = "forms",
  Fundraising = "fundraising",
  Governance = "governance",
  Hotlines = "hotlines",
  Messaging = "messaging",
  Microblogging = "microblogging",
  MutualAid = "mutual-aid",
  Newsletters = "newsletters",
  Public = "public",
  Publishing = "publishing",
  Wiki = "wiki",
}

/**
 * A member of a group with role and permissions
 */
export interface MemberElement {
  _v: string;
  invitedBy?: string;
  joinedAt: number;
  permissions?: GroupPermission[];
  pubkey: string;
  role: GroupRole;
  [property: string]: any;
}

/**
 * Group privacy/discovery level
 */
export enum GroupPrivacyLevel {
  Private = "private",
  Public = "public",
  Secret = "secret",
}

/**
 * An invitation to join a group
 */
export interface GroupInvitation {
  _v: string;
  createdAt: number;
  expiresAt?: number;
  groupId: string;
  id: string;
  invitedBy: string;
  invitedPubkey: string;
  message?: string;
  status: Status;
  [property: string]: any;
}

export enum Status {
  Accepted = "accepted",
  Declined = "declined",
  Expired = "expired",
  Pending = "pending",
}

/**
 * Group configuration settings
 */
export interface GroupSettings {
  _v: string;
  allowDirectMessages?: boolean;
  allowThreads?: boolean;
  defaultPermissions: GroupPermission[];
  defaultRole: GroupRole;
  discoverable: boolean;
  groupId: string;
  moduleSettings?: { [key: string]: any };
  requireApproval: boolean;
  [property: string]: any;
}

/**
 * A discussion thread within a group
 */
export interface GroupThread {
  _v: string;
  category?: string;
  createdAt: number;
  createdBy: string;
  groupId: string;
  id: string;
  lastMessageAt: number;
  messageCount: number;
  pinned?: boolean;
  title: string;
  [property: string]: any;
}

/**
 * A message within a group thread
 */
export interface GroupMessage {
  _v: string;
  content: string;
  deleted?: boolean;
  edited?: boolean;
  editedAt?: number;
  from: string;
  groupId: string;
  id: string;
  reactions?: { [key: string]: string[] };
  replyTo?: string;
  threadId: string;
  timestamp: number;
  [property: string]: any;
}
