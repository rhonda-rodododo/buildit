/**
 * @generated from protocol/schemas/modules/social-publishing/v1.json
 * @version 1.0.0
 * @minReaderVersion 1.0.0
 *
 * DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype
 */

// Version constants
export const SOCIAL_PUBLISHING_VERSION = "1.0.0";
export const SOCIAL_PUBLISHING_MIN_READER_VERSION = "1.0.0";

/**
 * Wraps content from any module with scheduling metadata. The centralized scheduling type —
 * avoids adding scheduledAt to every module's schema.
 */
export interface ScheduledContent {
  /**
   * Schema version that created this content
   */
  _v: string;
  /**
   * Creation timestamp (Unix seconds)
   */
  createdAt: number;
  /**
   * Creator's public key (hex)
   */
  createdBy: string;
  crossPostConfig?: CrossPostConfigObject;
  /**
   * Error details if status is 'failed'
   */
  errorMessage?: string;
  /**
   * Unique scheduled content identifier
   */
  id: string;
  /**
   * When the content was actually published (Unix timestamp seconds)
   */
  publishedAt?: number;
  recurrence?: RecurrenceRule;
  /**
   * Number of publish attempts
   */
  retryCount?: number;
  /**
   * When to publish (Unix timestamp seconds)
   */
  scheduledAt: number;
  /**
   * Pre-signed Nostr event JSON. Client signs, server relays at publish time (zero-knowledge).
   */
  signedEvent?: string;
  /**
   * ID of the content item in the source module
   */
  sourceContentId: string;
  /**
   * Module that owns the content (e.g., 'publishing', 'microblogging', 'events')
   */
  sourceModule: string;
  /**
   * Current scheduling status
   */
  status: ScheduledContentStatus;
  /**
   * Last update timestamp (Unix seconds)
   */
  updatedAt?: number;
  [property: string]: any;
}

/**
 * Per-scheduled-item cross-posting configuration — which platforms to post to
 */
export interface CrossPostConfigObject {
  _v: string;
  /**
   * Platform-specific post configurations
   */
  platforms: CrossPostConfigPlatform[];
  [property: string]: any;
}

/**
 * Individual platform entry for cross-posting
 */
export interface CrossPostConfigPlatform {
  _v: string;
  /**
   * Platform-specific content override (e.g., shorter text for Bluesky's 300 char limit)
   */
  customContent?: string;
  /**
   * Whether to post to this platform
   */
  enabled: boolean;
  /**
   * Error details if this platform failed
   */
  errorMessage?: string;
  /**
   * Target platform
   */
  platform: PlatformElement;
  /**
   * URL of the published post on the target platform
   */
  publishedUrl?: string;
  /**
   * Per-platform publish status
   */
  status?: PlatformStatus;
  [property: string]: any;
}

/**
 * Target platform
 */
export enum PlatformElement {
  Activitypub = "activitypub",
  Atproto = "atproto",
  Nostr = "nostr",
  RSS = "rss",
}

/**
 * Per-platform publish status
 */
export enum PlatformStatus {
  Failed = "failed",
  Pending = "pending",
  Published = "published",
}

export enum ByDay {
  Fr = "FR",
  Mo = "MO",
  Sa = "SA",
  Su = "SU",
  Th = "TH",
  Tu = "TU",
  We = "WE",
}

export enum Frequency {
  Daily = "daily",
  Monthly = "monthly",
  Weekly = "weekly",
}

/**
 * Current scheduling status
 *
 * Publishing status
 */
export enum ScheduledContentStatus {
  Cancelled = "cancelled",
  Failed = "failed",
  Pending = "pending",
  Published = "published",
  Publishing = "publishing",
}

/**
 * Per-scheduled-item cross-posting configuration — which platforms to post to
 */
export interface CrossPostConfig {
  _v: string;
  /**
   * Platform-specific post configurations
   */
  platforms: CrossPostConfigPlatformObject[];
  [property: string]: any;
}

/**
 * Individual platform entry for cross-posting
 */
export interface CrossPostConfigPlatformObject {
  _v: string;
  /**
   * Platform-specific content override (e.g., shorter text for Bluesky's 300 char limit)
   */
  customContent?: string;
  /**
   * Whether to post to this platform
   */
  enabled: boolean;
  /**
   * Error details if this platform failed
   */
  errorMessage?: string;
  /**
   * Target platform
   */
  platform: PlatformElement;
  /**
   * URL of the published post on the target platform
   */
  publishedUrl?: string;
  /**
   * Per-platform publish status
   */
  status?: PlatformStatus;
  [property: string]: any;
}

/**
 * Individual platform entry for cross-posting
 */
export interface PlatformPost {
  _v: string;
  /**
   * Platform-specific content override (e.g., shorter text for Bluesky's 300 char limit)
   */
  customContent?: string;
  /**
   * Whether to post to this platform
   */
  enabled: boolean;
  /**
   * Error details if this platform failed
   */
  errorMessage?: string;
  /**
   * Target platform
   */
  platform: PlatformElement;
  /**
   * URL of the published post on the target platform
   */
  publishedUrl?: string;
  /**
   * Per-platform publish status
   */
  status?: PlatformStatus;
  [property: string]: any;
}

/**
 * Recurrence rule for scheduled content (iCal-style)
 */
export interface RecurrenceRule {
  byDay?: ByDay[];
  /**
   * Number of occurrences
   */
  count?: number;
  frequency: Frequency;
  interval?: number;
  /**
   * End date as Unix timestamp
   */
  until?: number;
  [property: string]: any;
}

/**
 * Connected external social account for cross-posting. Extends federation's
 * FederationIdentity with scheduling metadata.
 */
export interface SocialAccount {
  _v: string;
  /**
   * Avatar URL on the external platform
   */
  avatarUrl?: string;
  /**
   * When the account was connected (Unix seconds)
   */
  createdAt: number;
  /**
   * Display name on the external platform
   */
  displayName?: string;
  /**
   * Account handle on the platform (e.g., '@user@mastodon.social' or 'user.bsky.social')
   */
  handle: string;
  /**
   * Unique account identifier
   */
  id: string;
  /**
   * Whether the account is currently connected and usable
   */
  isActive?: boolean;
  /**
   * Last time the account status was verified
   */
  lastSyncAt?: number;
  /**
   * External platform type
   */
  platform: SocialAccountPlatform;
  /**
   * Associated Nostr pubkey
   */
  pubkey: string;
  [property: string]: any;
}

/**
 * External platform type
 */
export enum SocialAccountPlatform {
  Activitypub = "activitypub",
  Atproto = "atproto",
}

/**
 * Generated public share URL with optional password, expiration, and click tracking
 */
export interface ShareLink {
  _v: string;
  /**
   * Total click count
   */
  clickCount?: number;
  /**
   * Creation timestamp (Unix seconds)
   */
  createdAt: number;
  /**
   * Creator's public key (hex)
   */
  createdBy: string;
  /**
   * Optional expiration (Unix timestamp seconds)
   */
  expiresAt?: number;
  /**
   * Unique share link identifier
   */
  id: string;
  /**
   * Whether the share link is active
   */
  isActive?: boolean;
  /**
   * Optional Argon2id hash of access password
   */
  passwordHash?: string;
  seoOverrides?: SEOOverridesObject;
  /**
   * Short URL slug (nanoid-based, 8 chars default)
   */
  slug: string;
  /**
   * ID of the content item in the source module
   */
  sourceContentId: string;
  /**
   * Module that owns the shared content
   */
  sourceModule: string;
  /**
   * Full URL the share link resolves to
   */
  targetUrl?: string;
  /**
   * Whether to record privacy-preserving click analytics
   */
  trackClicks?: boolean;
  [property: string]: any;
}

/**
 * Custom SEO metadata overrides for share links and content
 */
export interface SEOOverridesObject {
  _v?: string;
  /**
   * Custom canonical URL
   */
  canonicalUrl?: string;
  /**
   * Custom meta description
   */
  description?: string;
  /**
   * SEO keywords
   */
  keywords?: string[];
  /**
   * Custom OG image URL (overrides auto-generated)
   */
  ogImageUrl?: string;
  /**
   * Custom meta title
   */
  title?: string;
  [property: string]: any;
}

/**
 * Custom SEO metadata overrides for share links and content
 */
export interface SEOOverrides {
  _v?: string;
  /**
   * Custom canonical URL
   */
  canonicalUrl?: string;
  /**
   * Custom meta description
   */
  description?: string;
  /**
   * SEO keywords
   */
  keywords?: string[];
  /**
   * Custom OG image URL (overrides auto-generated)
   */
  ogImageUrl?: string;
  /**
   * Custom meta title
   */
  title?: string;
  [property: string]: any;
}

/**
 * Denormalized view entry for the content calendar aggregation
 */
export interface ContentCalendarEntry {
  _v: string;
  /**
   * Type of content for color-coding
   */
  contentType?: ContentType;
  /**
   * Calendar entry identifier
   */
  id: string;
  /**
   * Target platforms for this content
   */
  platforms?: PlatformElement[];
  /**
   * Scheduled time (Unix timestamp seconds)
   */
  scheduledAt: number;
  /**
   * Content item ID in the source module
   */
  sourceContentId: string;
  /**
   * Originating module
   */
  sourceModule: string;
  /**
   * Publishing status
   */
  status: ScheduledContentStatus;
  /**
   * Content title for calendar display
   */
  title: string;
  [property: string]: any;
}

/**
 * Type of content for color-coding
 */
export enum ContentType {
  Article = "article",
  Event = "event",
  Listing = "listing",
  Newsletter = "newsletter",
  Post = "post",
}

/**
 * Privacy-preserving per-share analytics. Session-based, no user identification, no cookies.
 */
export interface OutreachAnalytics {
  _v: string;
  /**
   * Unique analytics entry identifier
   */
  id: string;
  /**
   * Detected platform (e.g., 'mastodon', 'bluesky', 'twitter', 'email', 'direct')
   */
  platform?: string;
  /**
   * Referring domain (stripped to domain only for privacy)
   */
  referrer?: string;
  /**
   * Random session identifier (not tied to user identity)
   */
  sessionId: string;
  /**
   * Share link that was clicked
   */
  shareLinkId: string;
  /**
   * Click timestamp (Unix seconds)
   */
  timestamp: number;
  [property: string]: any;
}
