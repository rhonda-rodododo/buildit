/**
 * @generated from protocol/schemas/modules/wiki/v1.json
 * @version 1.0.0
 * @minReaderVersion 1.0.0
 *
 * DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype
 */

// Version constants
export const WIKI_VERSION = "1.0.0";
export const WIKI_MIN_READER_VERSION = "1.0.0";

/**
 * A wiki page in the knowledge base
 */
export interface WikiPage {
  /**
   * Schema version for graceful degradation
   */
  _v: string;
  /**
   * Alternative slugs that redirect to this page
   */
  aliases?: string[];
  /**
   * Unix timestamp when page was archived
   */
  archivedAt?: number;
  /**
   * Category this page belongs to
   */
  categoryId?: string;
  /**
   * Page content in markdown
   */
  content: string;
  /**
   * All contributors to this page
   */
  contributors?: string[];
  /**
   * Unix timestamp of creation
   */
  createdAt: number;
  /**
   * Public key of the original creator
   */
  createdBy: string;
  /**
   * Unix timestamp for soft delete
   */
  deletedAt?: number;
  /**
   * Group this page belongs to
   */
  groupId: string;
  /**
   * Unique identifier for the page
   */
  id: string;
  /**
   * Public key of the last editor
   */
  lastEditedBy?: string;
  /**
   * Timestamp when page was locked
   */
  lockedAt?: number;
  /**
   * User who has the page locked for editing
   */
  lockedBy?: string;
  /**
   * Custom metadata fields
   */
  metadata?: { [key: string]: any };
  /**
   * Parent page for hierarchical organization
   */
  parentId?: string;
  permissions?: PermissionsObject;
  /**
   * Unix timestamp when page was published
   */
  publishedAt?: number;
  /**
   * URL-friendly identifier
   */
  slug: string;
  status: PageStatus;
  /**
   * Brief summary for search results and previews
   */
  summary?: string;
  /**
   * Categorization tags
   */
  tags?: string[];
  /**
   * Page title
   */
  title: string;
  /**
   * Unix timestamp of last update
   */
  updatedAt?: number;
  /**
   * Current version number of the page
   */
  version: number;
  visibility?: PageVisibility;
  [property: string]: any;
}

export interface PermissionsObject {
  allowComments?: boolean;
  allowSuggestions?: boolean;
  /**
   * Roles that can edit this page
   */
  editRoles?: string[];
  /**
   * Roles that can view this page (for role-restricted)
   */
  viewRoles?: string[];
  [property: string]: any;
}

/**
 * Current status of the page
 */
export enum PageStatus {
  Archived = "archived",
  Deleted = "deleted",
  Draft = "draft",
  Published = "published",
  Review = "review",
}

/**
 * Who can view this page
 */
export enum PageVisibility {
  Group = "group",
  Private = "private",
  Public = "public",
  RoleRestricted = "role-restricted",
}

export interface PagePermissions {
  allowComments?: boolean;
  allowSuggestions?: boolean;
  /**
   * Roles that can edit this page
   */
  editRoles?: string[];
  /**
   * Roles that can view this page (for role-restricted)
   */
  viewRoles?: string[];
  [property: string]: any;
}

/**
 * A historical revision of a wiki page
 */
export interface PageRevision {
  _v: string;
  content: string;
  createdAt: number;
  /**
   * Unified diff from previous version
   */
  diff?: string;
  editedBy: string;
  editType?: EditType;
  id: string;
  pageId: string;
  /**
   * Version number if this is a revert
   */
  revertedFrom?: number;
  /**
   * Edit summary describing the changes
   */
  summary?: string;
  title?: string;
  version: number;
  [property: string]: any;
}

export enum EditType {
  Create = "create",
  Edit = "edit",
  Merge = "merge",
  Move = "move",
  Revert = "revert",
}

/**
 * A category for organizing wiki pages
 */
export interface WikiCategory {
  _v: string;
  /**
   * Display color
   */
  color?: string;
  createdAt: number;
  createdBy: string;
  description?: string;
  groupId: string;
  /**
   * Icon identifier
   */
  icon?: string;
  id: string;
  name: string;
  /**
   * Display order
   */
  order?: number;
  /**
   * Number of pages in this category
   */
  pageCount?: number;
  /**
   * Parent category for hierarchical organization
   */
  parentId?: string;
  slug: string;
  updatedAt?: number;
  [property: string]: any;
}

/**
 * A link between wiki pages
 */
export interface WikiLink {
  _v: string;
  /**
   * Text around the link for context
   */
  context?: string;
  createdAt: number;
  /**
   * Whether target page exists
   */
  isBroken?: boolean;
  sourcePageId: string;
  targetPageId?: string;
  /**
   * Slug of target page (for broken link detection)
   */
  targetSlug: string;
  [property: string]: any;
}

/**
 * A comment on a wiki page
 */
export interface PageComment {
  _v: string;
  authorId: string;
  content: string;
  createdAt: number;
  deletedAt?: number;
  editedAt?: number;
  id: string;
  pageId: string;
  /**
   * Parent comment for threaded replies
   */
  parentId?: string;
  /**
   * Whether this comment thread is resolved
   */
  resolved?: boolean;
  resolvedAt?: number;
  resolvedBy?: string;
  [property: string]: any;
}

/**
 * A suggested edit to a wiki page
 */
export interface EditSuggestion {
  _v: string;
  /**
   * Version this suggestion is based on
   */
  baseVersion: number;
  /**
   * Suggested content
   */
  content: string;
  createdAt: number;
  /**
   * Unified diff showing changes
   */
  diff?: string;
  id: string;
  pageId: string;
  reviewComment?: string;
  reviewedAt?: number;
  reviewedBy?: string;
  status: Status;
  suggestedBy: string;
  /**
   * Description of the suggested changes
   */
  summary?: string;
  /**
   * Suggested title (if changed)
   */
  title?: string;
  [property: string]: any;
}

export enum Status {
  Approved = "approved",
  Merged = "merged",
  Pending = "pending",
  Rejected = "rejected",
  Superseded = "superseded",
}

/**
 * Search result from the wiki
 */
export interface WikiSearch {
  _v: string;
  categoryName?: string;
  /**
   * Relevant excerpt with search terms highlighted
   */
  excerpt?: string;
  matchedTags?: string[];
  pageId: string;
  /**
   * Search relevance score
   */
  score: number;
  slug: string;
  summary?: string;
  title: string;
  updatedAt?: number;
  [property: string]: any;
}
