/**
 * @generated from protocol/schemas/modules/documents/v1.json
 * @version 1.0.0
 * @minReaderVersion 1.0.0
 *
 * DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype
 */

// Version constants
export const DOCUMENTS_VERSION = "1.0.0";
export const DOCUMENTS_MIN_READER_VERSION = "1.0.0";

/**
 * A document with content and metadata
 */
export interface Document {
  /**
   * Schema version that created this content
   */
  _v: string;
  attachments?: Attachment[];
  /**
   * Document content (format depends on type)
   */
  content: string;
  /**
   * Creation timestamp (Unix seconds)
   */
  createdAt: number;
  /**
   * Creator's public key (hex)
   */
  createdBy: string;
  /**
   * Pubkeys of users with edit permission
   */
  editors?: string[];
  /**
   * Who can edit this document
   */
  editPermission?: EditPermission;
  /**
   * Associated group ID
   */
  groupId?: string;
  /**
   * Unique document identifier
   */
  id: string;
  /**
   * Signal-style encrypted link previews for URLs in document
   */
  linkPreviews?: LinkPreview[];
  /**
   * Parent document for hierarchical organization
   */
  parentId?: string;
  /**
   * Optional summary or excerpt
   */
  summary?: string;
  /**
   * Document tags for categorization
   */
  tags?: string[];
  /**
   * Document title
   */
  title: string;
  /**
   * Document content type
   */
  type: DocumentType;
  /**
   * Last update timestamp (Unix seconds)
   */
  updatedAt?: number;
  /**
   * Last editor's public key
   */
  updatedBy?: string;
  /**
   * Document revision version
   */
  version?: number;
  /**
   * Who can view this document
   */
  visibility?: Visibility;
  [property: string]: any;
}

export enum AttachmentType {
  File = "file",
  Image = "image",
  Link = "link",
}

/**
 * Who can edit this document
 */
export enum EditPermission {
  Editors = "editors",
  Group = "group",
  Owner = "owner",
  Public = "public",
}

/**
 * Privacy-preserving link preview (Signal-style). Sender fetches OG metadata + thumbnail,
 * encrypts with content. Recipients see static previews — zero third-party requests.
 */
export interface LinkPreview {
  /**
   * Open Graph og:description
   */
  description?: string;
  /**
   * Base64-encoded favicon (max ~10KB)
   */
  faviconData?: string;
  /**
   * Favicon MIME type
   */
  faviconType?: string;
  /**
   * Unix timestamp when preview was generated
   */
  fetchedAt: number;
  /**
   * Who fetched the preview — sender (direct) or proxy (API worker)
   */
  fetchedBy: FetchedBy;
  /**
   * Base64-encoded thumbnail (max ~50KB, encrypted with content)
   */
  imageData?: string;
  /**
   * Image height in pixels
   */
  imageHeight?: number;
  /**
   * MIME type (image/jpeg, image/png, image/webp)
   */
  imageType?: string;
  /**
   * Image width in pixels
   */
  imageWidth?: number;
  /**
   * Open Graph og:site_name
   */
  siteName?: string;
  /**
   * Open Graph og:title
   */
  title?: string;
  /**
   * Original URL
   */
  url: string;
  [property: string]: any;
}

/**
 * Who fetched the preview — sender (direct) or proxy (API worker)
 */
export enum FetchedBy {
  Proxy = "proxy",
  Sender = "sender",
}

/**
 * Document content type
 */
export enum DocumentType {
  Markdown = "markdown",
  PlainText = "plain_text",
  RichText = "rich_text",
}

/**
 * Who can view this document
 */
export enum Visibility {
  Group = "group",
  Private = "private",
  Public = "public",
}

/**
 * A revision history entry for a document
 */
export interface DocumentRevision {
  _v: string;
  /**
   * Description of changes in this revision
   */
  changeNote?: string;
  content: string;
  documentId: string;
  editedAt: number;
  editedBy: string;
  version: number;
  [property: string]: any;
}

export interface Attachment {
  mimeType?: string;
  name?: string;
  /**
   * File size in bytes
   */
  size?: number;
  type: AttachmentType;
  url: string;
  [property: string]: any;
}
