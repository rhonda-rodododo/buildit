/**
 * @generated from protocol/schemas/core/ble-transport/v1.json
 * @version 1.0.0
 * @minReaderVersion 1.0.0
 *
 * DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype
 */

// Version constants
export const BLE_TRANSPORT_VERSION = "1.0.0";
export const BLE_TRANSPORT_MIN_READER_VERSION = "1.0.0";

/**
 * BLE identity commitment for mutual authentication handshake
 */
export interface IdentityCommitment {
  _v: string;
  /**
   * Base64-encoded commitment hash
   */
  commitment: string;
  /**
   * Base64-encoded random nonce
   */
  nonce: string;
  /**
   * Hex-encoded public key
   */
  pubkey: string;
  [property: string]: any;
}

/**
 * A BLE device discovered during scanning
 */
export interface DiscoveredDevice {
  _v: string;
  /**
   * BLE device address
   */
  address: string;
  /**
   * Base64-encoded identity commitment if available
   */
  identityCommitment?: null | string;
  /**
   * Whether the device is a BuildIt node
   */
  isBuilditDevice: boolean;
  /**
   * Unix timestamp (milliseconds)
   */
  lastSeen: number;
  /**
   * Advertised device name
   */
  name?: null | string;
  /**
   * Signal strength in dBm
   */
  rssi?: number | null;
  /**
   * Hex-encoded verified public key after handshake
   */
  verifiedPubkey?: null | string;
  [property: string]: any;
}

/**
 * A BLE mesh event notification
 */
export interface BleEvent {
  _v: string;
  /**
   * Device address for device events
   */
  address?: string;
  status?: ConnectionStatus;
  /**
   * Event type
   */
  type: Type;
  [property: string]: any;
}

/**
 * BLE connection state
 */
export enum ConnectionStatus {
  Authenticated = "authenticated",
  Connected = "connected",
  Connecting = "connecting",
  Disconnected = "disconnected",
  Disconnecting = "disconnecting",
  Handshaking = "handshaking",
}

/**
 * Event type
 */
export enum Type {
  ConnectionChanged = "connection_changed",
  DeviceDiscovered = "device_discovered",
  DeviceLost = "device_lost",
  DeviceUpdated = "device_updated",
  MessageReceived = "message_received",
  MessageSent = "message_sent",
}

/**
 * Header for BLE message chunking protocol
 */
export interface ChunkHeader {
  _v: string;
  /**
   * Zero-based chunk index
   */
  chunkIndex: number;
  /**
   * Whether payload is zlib-compressed
   */
  compressed: boolean;
  /**
   * Unique message identifier
   */
  messageId: string;
  /**
   * Payload size in bytes
   */
  payloadLength: number;
  /**
   * Total number of chunks
   */
  totalChunks: number;
  [property: string]: any;
}

/**
 * A single BLE message chunk
 */
export interface Chunk {
  _v: string;
  header: HeaderObject;
  /**
   * Base64-encoded chunk payload
   */
  payload: string;
  [property: string]: any;
}

/**
 * Header for BLE message chunking protocol
 */
export interface HeaderObject {
  _v: string;
  /**
   * Zero-based chunk index
   */
  chunkIndex: number;
  /**
   * Whether payload is zlib-compressed
   */
  compressed: boolean;
  /**
   * Unique message identifier
   */
  messageId: string;
  /**
   * Payload size in bytes
   */
  payloadLength: number;
  /**
   * Total number of chunks
   */
  totalChunks: number;
  [property: string]: any;
}
