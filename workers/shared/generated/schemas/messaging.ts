/**
 * @generated from protocol/schemas/modules/messaging/v1.json
 * @version 1.0.0
 * @minReaderVersion 1.0.0
 *
 * DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype
 */

// Version constants
export const MESSAGING_VERSION = "1.0.0";
export const MESSAGING_MIN_READER_VERSION = "1.0.0";

/**
 * Direct message content (sent via NIP-17 gift wrap)
 */
export interface DirectMessage {
  /**
   * Schema version
   */
  _v: string;
  attachments?: DirectMessageAttachment[];
  /**
   * Message text content
   */
  content: string;
  /**
   * Signal-style encrypted link previews
   */
  linkPreviews?: DirectMessageLinkPreview[];
  /**
   * Pubkeys of mentioned users
   */
  mentions?: string[];
  /**
   * ID of message being replied to
   */
  replyTo?: string;
  [property: string]: any;
}

/**
 * Media attachment
 */
export interface DirectMessageAttachment {
  /**
   * BlurHash placeholder for images
   */
  blurhash?: string;
  dimensions?: PurpleDimensions;
  /**
   * Duration in seconds (audio/video)
   */
  duration?: number;
  mimeType?: string;
  /**
   * Filename
   */
  name?: string;
  /**
   * Size in bytes
   */
  size?: number;
  /**
   * Thumbnail URL for video
   */
  thumbnail?: string;
  type: Type;
  /**
   * Content URL or data URL
   */
  url: string;
  [property: string]: any;
}

export interface PurpleDimensions {
  height?: number;
  width?: number;
  [property: string]: any;
}

export enum Type {
  Audio = "audio",
  File = "file",
  Image = "image",
  Video = "video",
}

/**
 * Privacy-preserving link preview (Signal-style). Sender fetches OG metadata + thumbnail,
 * encrypts with content. Recipients see static previews — zero third-party requests.
 */
export interface DirectMessageLinkPreview {
  /**
   * Open Graph og:description
   */
  description?: string;
  /**
   * Base64-encoded favicon (max ~10KB)
   */
  faviconData?: string;
  /**
   * Favicon MIME type
   */
  faviconType?: string;
  /**
   * Unix timestamp when preview was generated
   */
  fetchedAt: number;
  /**
   * Who fetched the preview — sender (direct) or proxy (API worker)
   */
  fetchedBy: FetchedBy;
  /**
   * Base64-encoded thumbnail (max ~50KB, encrypted with content)
   */
  imageData?: string;
  /**
   * Image height in pixels
   */
  imageHeight?: number;
  /**
   * MIME type (image/jpeg, image/png, image/webp)
   */
  imageType?: string;
  /**
   * Image width in pixels
   */
  imageWidth?: number;
  /**
   * Open Graph og:site_name
   */
  siteName?: string;
  /**
   * Open Graph og:title
   */
  title?: string;
  /**
   * Original URL
   */
  url: string;
  [property: string]: any;
}

/**
 * Who fetched the preview — sender (direct) or proxy (API worker)
 */
export enum FetchedBy {
  Proxy = "proxy",
  Sender = "sender",
}

/**
 * Group message content
 */
export interface GroupMessage {
  _v: string;
  attachments?: GroupMessageAttachment[];
  content: string;
  /**
   * Target group identifier
   */
  groupId: string;
  /**
   * Signal-style encrypted link previews
   */
  linkPreviews?: GroupMessageLinkPreview[];
  mentions?: string[];
  replyTo?: string;
  /**
   * Thread within group (optional)
   */
  threadId?: string;
  [property: string]: any;
}

/**
 * Media attachment
 */
export interface GroupMessageAttachment {
  /**
   * BlurHash placeholder for images
   */
  blurhash?: string;
  dimensions?: FluffyDimensions;
  /**
   * Duration in seconds (audio/video)
   */
  duration?: number;
  mimeType?: string;
  /**
   * Filename
   */
  name?: string;
  /**
   * Size in bytes
   */
  size?: number;
  /**
   * Thumbnail URL for video
   */
  thumbnail?: string;
  type: Type;
  /**
   * Content URL or data URL
   */
  url: string;
  [property: string]: any;
}

export interface FluffyDimensions {
  height?: number;
  width?: number;
  [property: string]: any;
}

/**
 * Privacy-preserving link preview (Signal-style). Sender fetches OG metadata + thumbnail,
 * encrypts with content. Recipients see static previews — zero third-party requests.
 */
export interface GroupMessageLinkPreview {
  /**
   * Open Graph og:description
   */
  description?: string;
  /**
   * Base64-encoded favicon (max ~10KB)
   */
  faviconData?: string;
  /**
   * Favicon MIME type
   */
  faviconType?: string;
  /**
   * Unix timestamp when preview was generated
   */
  fetchedAt: number;
  /**
   * Who fetched the preview — sender (direct) or proxy (API worker)
   */
  fetchedBy: FetchedBy;
  /**
   * Base64-encoded thumbnail (max ~50KB, encrypted with content)
   */
  imageData?: string;
  /**
   * Image height in pixels
   */
  imageHeight?: number;
  /**
   * MIME type (image/jpeg, image/png, image/webp)
   */
  imageType?: string;
  /**
   * Image width in pixels
   */
  imageWidth?: number;
  /**
   * Open Graph og:site_name
   */
  siteName?: string;
  /**
   * Open Graph og:title
   */
  title?: string;
  /**
   * Original URL
   */
  url: string;
  [property: string]: any;
}

/**
 * Media attachment
 */
export interface Attachment {
  /**
   * BlurHash placeholder for images
   */
  blurhash?: string;
  dimensions?: AttachmentDimensions;
  /**
   * Duration in seconds (audio/video)
   */
  duration?: number;
  mimeType?: string;
  /**
   * Filename
   */
  name?: string;
  /**
   * Size in bytes
   */
  size?: number;
  /**
   * Thumbnail URL for video
   */
  thumbnail?: string;
  type: Type;
  /**
   * Content URL or data URL
   */
  url: string;
  [property: string]: any;
}

export interface AttachmentDimensions {
  height?: number;
  width?: number;
  [property: string]: any;
}

/**
 * Reaction to a message
 */
export interface Reaction {
  _v: string;
  /**
   * Emoji character or shortcode
   */
  emoji: string;
  /**
   * ID of message being reacted to
   */
  targetId: string;
  [property: string]: any;
}

/**
 * Read receipt for messages
 */
export interface ReadReceipt {
  _v: string;
  /**
   * DM partner pubkey or group ID
   */
  conversationId: string;
  /**
   * ID of last read message
   */
  lastRead: string;
  /**
   * Unix timestamp
   */
  readAt?: number;
  [property: string]: any;
}

/**
 * Ephemeral typing indicator
 */
export interface TypingIndicator {
  _v: string;
  conversationId: string;
  typing: boolean;
  [property: string]: any;
}
