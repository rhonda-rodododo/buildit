/**
 * @generated from protocol/schemas/modules/training/v1.json
 * @version 1.0.0
 *
 * DO NOT EDIT - This file is auto-generated by tools/codegen
 * Zod validation schemas for the Training module
 */

import { z } from "zod";

/** Course category for organizing training content */
export const CourseCategorySchema = z.enum([
  "app-basics",
  "opsec",
  "digital-security",
  "legal",
  "medic",
  "self-defense",
  "organizing",
  "communication",
  "civil-defense",
  "custom",
]);
export type CourseCategory = z.infer<typeof CourseCategorySchema>;

/** Course difficulty level */
export const CourseDifficultySchema = z.enum([
  "beginner",
  "intermediate",
  "advanced",
]);
export type CourseDifficulty = z.infer<typeof CourseDifficultySchema>;

/** Course publication status */
export const CourseStatusSchema = z.enum(["draft", "published", "archived"]);
export type CourseStatus = z.infer<typeof CourseStatusSchema>;

/** Lesson content type */
export const LessonTypeSchema = z.enum([
  "video",
  "document",
  "quiz",
  "assignment",
  "live-session",
  "interactive",
]);
export type LessonType = z.infer<typeof LessonTypeSchema>;

/** Quiz question format */
export const QuizQuestionTypeSchema = z.enum([
  "multiple-choice",
  "multi-select",
  "true-false",
  "fill-in-blank",
  "short-answer",
]);
export type QuizQuestionType = z.infer<typeof QuizQuestionTypeSchema>;

/** Learning progress status */
export const ProgressStatusSchema = z.enum([
  "not-started",
  "in-progress",
  "completed",
]);
export type ProgressStatus = z.infer<typeof ProgressStatusSchema>;

/** Assignment review status */
export const AssignmentReviewStatusSchema = z.enum([
  "pending",
  "in-review",
  "approved",
  "rejected",
  "revision-requested",
]);
export type AssignmentReviewStatus = z.infer<
  typeof AssignmentReviewStatusSchema
>;

/** Interactive exercise type */
export const InteractiveExerciseTypeSchema = z.enum([
  "threat-model",
  "security-audit",
  "scenario",
  "simulation",
  "custom",
]);
export type InteractiveExerciseType = z.infer<
  typeof InteractiveExerciseTypeSchema
>;

/** Live session RSVP status */
export const LiveSessionRSVPStatusSchema = z.enum([
  "confirmed",
  "tentative",
  "declined",
]);
export type LiveSessionRSVPStatus = z.infer<typeof LiveSessionRSVPStatusSchema>;

/** A training course */
export const CourseSchema = z
  .object({
    _v: z.string().default("1.0.0"),
    id: z.string(),
    groupId: z.string().optional(),
    title: z.string().max(256),
    description: z.string().max(8192),
    imageUrl: z.string().url().optional(),
    category: CourseCategorySchema,
    difficulty: CourseDifficultySchema,
    estimatedHours: z.number(),
    prerequisites: z.array(z.string()).optional(),
    status: CourseStatusSchema,
    certificationEnabled: z.boolean().default(false),
    certificationExpiryDays: z.number().int().optional(),
    isPublic: z.boolean().default(false),
    isDefault: z.boolean().default(false),
    created: z.number().int(),
    createdBy: z.string(),
    updated: z.number().int(),
  })
  .passthrough();
export type Course = z.infer<typeof CourseSchema>;

/** A chapter within a course */
export const TrainingModuleSchema = z
  .object({
    _v: z.string().default("1.0.0"),
    id: z.string(),
    courseId: z.string(),
    title: z.string().max(256),
    description: z.string().optional(),
    order: z.number().int(),
    estimatedMinutes: z.number().int(),
    created: z.number().int(),
    updated: z.number().int(),
  })
  .passthrough();
export type TrainingModule = z.infer<typeof TrainingModuleSchema>;

/** A question within a quiz */
export const QuizQuestionSchema = z
  .object({
    _v: z.string().default("1.0.0"),
    id: z.string(),
    type: QuizQuestionTypeSchema,
    question: z.string(),
    options: z.array(z.string()).optional(),
    correctAnswer: z.array(z.string()),
    explanation: z.string().optional(),
    points: z.number().int(),
    order: z.number().int(),
  })
  .passthrough();
export type QuizQuestion = z.infer<typeof QuizQuestionSchema>;

/** Rubric item for grading assignments */
export const AssignmentRubricItemSchema = z
  .object({
    _v: z.string().default("1.0.0"),
    id: z.string(),
    criterion: z.string(),
    description: z.string(),
    maxPoints: z.number().int(),
  })
  .passthrough();
export type AssignmentRubricItem = z.infer<typeof AssignmentRubricItemSchema>;

/** An individual learning unit within a module */
export const LessonSchema = z
  .object({
    _v: z.string().default("1.0.0"),
    id: z.string(),
    moduleId: z.string(),
    type: LessonTypeSchema,
    title: z.string().max(256),
    description: z.string().optional(),
    order: z.number().int(),
    estimatedMinutes: z.number().int(),
    requiredForCertification: z.boolean().default(false),
    passingScore: z.number().int().optional(),
    created: z.number().int(),
    updated: z.number().int(),
    videoUrl: z.string().url().optional(),
    transcriptUrl: z.string().url().optional(),
    captionsUrl: z.string().url().optional(),
    duration: z.number().int().optional(),
    markdown: z.string().optional(),
    pdfUrl: z.string().url().optional(),
    questions: z.array(QuizQuestionSchema).optional(),
    allowRetakes: z.boolean().optional(),
    maxAttempts: z.number().int().optional(),
    shuffleQuestions: z.boolean().optional(),
    shuffleOptions: z.boolean().optional(),
    showCorrectAfter: z.boolean().optional(),
    timeLimitMinutes: z.number().int().optional(),
    instructions: z.string().optional(),
    allowedFileTypes: z.array(z.string()).optional(),
    maxFileSizeMB: z.number().int().optional(),
    rubric: z.array(AssignmentRubricItemSchema).optional(),
    scheduledAt: z.number().int().optional(),
    instructorPubkey: z.string().optional(),
    conferenceRoomId: z.string().optional(),
    recordingUrl: z.string().url().optional(),
    maxParticipants: z.number().int().optional(),
    requiresRSVP: z.boolean().optional(),
    exerciseType: InteractiveExerciseTypeSchema.optional(),
    configJson: z.string().optional(),
    externalUrl: z.string().url().optional(),
  })
  .passthrough();
export type Lesson = z.infer<typeof LessonSchema>;

/** User progress on a course */
export const CourseProgressSchema = z
  .object({
    _v: z.string().default("1.0.0"),
    id: z.string(),
    courseId: z.string(),
    pubkey: z.string(),
    percentComplete: z.number(),
    lessonsCompleted: z.number().int(),
    totalLessons: z.number().int(),
    currentModuleId: z.string().optional(),
    currentLessonId: z.string().optional(),
    startedAt: z.number().int(),
    lastActivityAt: z.number().int(),
    completedAt: z.number().int().optional(),
  })
  .passthrough();
export type CourseProgress = z.infer<typeof CourseProgressSchema>;

/** Certification record issued upon course completion */
export const CertificationSchema = z
  .object({
    _v: z.string().default("1.0.0"),
    id: z.string(),
    courseId: z.string(),
    pubkey: z.string(),
    earnedAt: z.number().int(),
    expiresAt: z.number().int().optional(),
    verificationCode: z.string(),
    metadata: z.record(z.string(), z.string()).optional(),
    revokedAt: z.number().int().optional(),
    revokedBy: z.string().optional(),
    revokeReason: z.string().optional(),
  })
  .passthrough();
export type Certification = z.infer<typeof CertificationSchema>;

/** Module version */
export const TRAINING_SCHEMA_VERSION = "1.0.0" as const;
