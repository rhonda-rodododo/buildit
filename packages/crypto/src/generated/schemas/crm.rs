//! Crm module schema types
//!
//! @generated from protocol/schemas/modules/crm/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Crm module
pub const CRM_VERSION: &str = "1.0.0";
/// Minimum reader version for Crm module
pub const CRM_MIN_READER_VERSION: &str = "1.0.0";

use std::collections::HashMap;

/// A contact entry in the CRM
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Contact {
    #[serde(rename = "_v")]
    pub v: String,

    pub address: Option<AddressClass>,

    pub created_at: i64,

    pub created_by: String,

    /// Custom field values
    pub custom_fields: Option<HashMap<String, Option<serde_json::Value>>>,

    pub email: Option<String>,

    pub group_id: Option<String>,

    pub id: String,

    /// Last interaction timestamp
    pub last_contacted_at: Option<i64>,

    pub name: Option<String>,

    pub notes: Option<String>,

    pub organization: Option<String>,

    pub phone: Option<String>,

    /// Nostr pubkey if contact is a BuildIt user
    pub pubkey: Option<String>,

    /// How this contact was acquired
    pub source: Option<String>,

    pub status: Option<ContactStatus>,

    /// Tags for categorization (e.g., 'volunteer', 'donor')
    pub tags: Option<Vec<String>>,

    /// Job title or role
    pub title: Option<String>,

    pub updated_at: Option<i64>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct AddressClass {
    pub city: Option<String>,

    pub country: Option<String>,

    pub postal_code: Option<String>,

    pub state: Option<String>,

    pub street: Option<String>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum ContactStatus {
    Active,

    Archived,

    Inactive,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Address {
    pub city: Option<String>,

    pub country: Option<String>,

    pub postal_code: Option<String>,

    pub state: Option<String>,

    pub street: Option<String>,
}

/// A logged interaction with a contact
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Interaction {
    #[serde(rename = "_v")]
    pub v: String,

    pub contact_id: String,

    /// Scheduled follow-up timestamp
    pub follow_up_date: Option<i64>,

    pub id: String,

    pub logged_by: String,

    pub notes: Option<String>,

    pub occurred_at: i64,

    /// Result of the interaction
    pub outcome: Option<String>,

    pub summary: Option<String>,

    #[serde(rename = "type")]
    pub interaction_type: Type,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Type {
    Call,

    Email,

    Event,

    Meeting,

    Note,

    Other,

    Text,
}

/// A task related to a contact
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Task {
    #[serde(rename = "_v")]
    pub v: String,

    pub assigned_to: Option<String>,

    pub completed_at: Option<i64>,

    pub contact_id: Option<String>,

    pub created_at: i64,

    pub created_by: String,

    pub description: Option<String>,

    pub due_at: Option<i64>,

    pub id: String,

    pub priority: Option<Priority>,

    pub status: Option<TaskStatus>,

    pub title: String,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Priority {
    High,

    Low,

    Medium,

    Urgent,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum TaskStatus {
    Cancelled,

    Completed,

    #[serde(rename = "in_progress")]
    InProgress,

    Pending,
}

