//! Multisig module schema types
//!
//! @generated from protocol/schemas/core/multisig/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Multisig module
pub const MULTISIG_VERSION: &str = "1.0.0";
/// Minimum reader version for Multisig module
pub const MULTISIG_MIN_READER_VERSION: &str = "1.0.0";

/// A single share of a threshold key group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct KeyShare {
    #[serde(rename = "_v")]
    pub v: String,

    /// ID of the threshold key group
    pub group_id: String,

    /// Share index (1-based)
    pub index: i64,

    /// Hex-encoded share public key
    pub share_public_key: String,

    /// Base64-encoded share secret (sensitive)
    pub share_secret: Option<String>,

    /// Minimum shares needed to sign
    pub threshold: i64,

    /// Total number of shares in the group
    pub total_shares: i64,
}

/// Configuration for creating a threshold key group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ThresholdConfig {
    #[serde(rename = "_v")]
    pub v: String,

    /// Human-readable group name
    pub group_name: String,

    /// Minimum shares needed to sign
    pub threshold: i64,

    /// Total number of shares to create
    pub total_shares: i64,
}

/// A complete threshold key group with all shares
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ThresholdKeyGroup {
    #[serde(rename = "_v")]
    pub v: String,

    pub group_id: String,

    /// Hex-encoded group public key
    pub group_public_key: String,

    pub shares: Vec<ShareElement>,

    pub threshold: i64,

    pub total_shares: i64,
}

/// A single share of a threshold key group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ShareElement {
    #[serde(rename = "_v")]
    pub v: String,

    /// ID of the threshold key group
    pub group_id: String,

    /// Share index (1-based)
    pub index: i64,

    /// Hex-encoded share public key
    pub share_public_key: String,

    /// Base64-encoded share secret (sensitive)
    pub share_secret: Option<String>,

    /// Minimum shares needed to sign
    pub threshold: i64,

    /// Total number of shares in the group
    pub total_shares: i64,
}

/// A partial signature from one share holder
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct PartialSignature {
    #[serde(rename = "_v")]
    pub v: String,

    /// Base64-encoded partial signature
    pub signature: String,

    pub signer_index: i64,

    pub signer_public_key: String,
}

/// An aggregated threshold signature
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct AggregatedSignature {
    #[serde(rename = "_v")]
    pub v: String,

    pub group_public_key: String,

    /// Base64-encoded aggregated signature
    pub signature: String,

    pub signer_indices: Vec<i64>,
}

/// A proposal to rotate a threshold key group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct KeyRotationProposal {
    #[serde(rename = "_v")]
    pub v: String,

    pub created_at: i64,

    pub group_id: String,

    pub new_group_public_key: String,

    pub new_shares: Option<Vec<NewShareElement>>,

    pub proposal_id: String,
}

/// A single share of a threshold key group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct NewShareElement {
    #[serde(rename = "_v")]
    pub v: String,

    /// ID of the threshold key group
    pub group_id: String,

    /// Share index (1-based)
    pub index: i64,

    /// Hex-encoded share public key
    pub share_public_key: String,

    /// Base64-encoded share secret (sensitive)
    pub share_secret: Option<String>,

    /// Minimum shares needed to sign
    pub threshold: i64,

    /// Total number of shares in the group
    pub total_shares: i64,
}

