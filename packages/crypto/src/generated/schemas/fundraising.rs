//! Fundraising module schema types
//!
//! @generated from protocol/schemas/modules/fundraising/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Fundraising module
pub const FUNDRAISING_VERSION: &str = "1.0.0";
/// Minimum reader version for Fundraising module
pub const FUNDRAISING_MIN_READER_VERSION: &str = "1.0.0";

/// A fundraising campaign
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Campaign {
    #[serde(rename = "_v")]
    pub v: String,

    pub created_at: i64,

    pub created_by: String,

    /// ISO 4217 currency code
    pub currency: String,

    pub description: Option<String>,

    pub donor_count: Option<i64>,

    /// Campaign end timestamp
    pub ends_at: Option<i64>,

    /// Target amount to raise
    pub goal: f64,

    pub group_id: Option<String>,

    pub id: String,

    /// Campaign cover image
    pub image: Option<String>,

    /// Amount raised so far
    pub raised: Option<f64>,

    /// Campaign start timestamp
    pub starts_at: Option<i64>,

    pub status: Option<CampaignStatus>,

    /// Suggested donation amounts
    pub tiers: Option<Vec<TierElement>>,

    pub title: String,

    pub updated_at: Option<i64>,

    pub updates: Option<Vec<UpdateElement>>,

    pub visibility: Option<Visibility>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum CampaignStatus {
    Active,

    Cancelled,

    Completed,

    Draft,

    Paused,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct TierElement {
    pub amount: f64,

    pub description: Option<String>,

    pub name: Option<String>,

    pub perks: Option<Vec<String>>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct UpdateElement {
    pub content: String,

    pub posted_at: i64,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Visibility {
    Group,

    Private,

    Public,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct DonationTier {
    pub amount: f64,

    pub description: Option<String>,

    pub name: Option<String>,

    pub perks: Option<Vec<String>>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct CampaignUpdate {
    pub content: String,

    pub posted_at: i64,
}

/// A donation to a campaign
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Donation {
    #[serde(rename = "_v")]
    pub v: String,

    pub amount: f64,

    pub anonymous: Option<bool>,

    pub campaign_id: String,

    pub currency: String,

    pub donated_at: i64,

    /// Display name for donation
    pub donor_name: Option<String>,

    /// Donor pubkey (null if anonymous)
    pub donor_pubkey: Option<String>,

    pub id: String,

    /// Optional message with donation
    pub message: Option<String>,

    pub payment_method: Option<PaymentMethod>,

    pub status: Option<DonationStatus>,

    /// Selected donation tier
    pub tier_id: Option<String>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum PaymentMethod {
    Bank,

    Card,

    Cash,

    Check,

    Crypto,

    Other,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum DonationStatus {
    Completed,

    Failed,

    Pending,

    Refunded,
}

/// An expense against campaign funds
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Expense {
    #[serde(rename = "_v")]
    pub v: String,

    pub amount: f64,

    pub campaign_id: String,

    pub category: Option<String>,

    pub currency: String,

    /// Expense date
    pub date: Option<i64>,

    pub description: String,

    pub id: String,

    /// Receipt file URL
    pub receipt: Option<String>,

    pub recorded_at: i64,

    pub recorded_by: String,

    pub vendor: Option<String>,
}

