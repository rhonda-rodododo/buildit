//! Identity module schema types
//!
//! @generated from protocol/schemas/core/identity/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Identity module
pub const IDENTITY_VERSION: &str = "1.0.0";
/// Minimum reader version for Identity module
pub const IDENTITY_MIN_READER_VERSION: &str = "1.0.0";

/// A Nostr keypair identity with profile metadata
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Identity {
    #[serde(rename = "_v")]
    pub v: String,

    /// Unix timestamp when identity was created
    pub created: i64,

    /// Display name (e.g., Alice Martinez)
    pub display_name: Option<String>,

    /// Unix timestamp when identity was last used
    pub last_used: i64,

    /// User-chosen identity name
    pub name: String,

    /// NIP-05 verified identifier (alice@domain.com)
    pub nip05: Option<String>,

    /// Whether NIP-05 has been verified
    pub nip05_verified: Option<bool>,

    /// Bech32-encoded public key (npub...)
    pub npub: String,

    /// Hex-encoded public key
    pub public_key: String,

    /// Human-readable username (e.g., alice-organizer)
    pub username: Option<String>,
}

/// An identity with password-encrypted private key for storage
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct EncryptedIdentity {
    #[serde(rename = "_v")]
    pub v: String,

    pub created: i64,

    /// Password-encrypted private key (Argon2id + AES-256-GCM)
    pub encrypted_private_key: String,

    pub last_used: i64,

    pub name: String,

    /// Hex-encoded public key
    pub public_key: String,
}

/// User profile metadata (NIP-01 kind 0 content)
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct ProfileMetadata {
    #[serde(rename = "_v")]
    pub v: Option<String>,

    pub about: Option<String>,

    pub banner: Option<String>,

    pub display_name: Option<String>,

    pub lud16: Option<String>,

    pub name: Option<String>,

    pub nip05: Option<String>,

    pub picture: Option<String>,

    pub website: Option<String>,
}

