//! Search module schema types
//!
//! @generated from protocol/schemas/modules/search/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Search module
pub const SEARCH_VERSION: &str = "1.0.0";
/// Minimum reader version for Search module
pub const SEARCH_MIN_READER_VERSION: &str = "1.0.0";

use std::collections::HashMap;

pub type SparseVector = HashMap<String, f64>;

/// A document indexed for search - internal representation stored in search index
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SearchDocument {
    /// Schema version
    #[serde(rename = "_v")]
    pub v: String,

    /// Author/creator pubkey
    pub author_pubkey: Option<String>,

    /// Searchable content body (plaintext, HTML stripped)
    pub content: String,

    /// When the source entity was created (Unix timestamp ms)
    pub created_at: i64,

    /// Original entity ID in the source module
    pub entity_id: String,

    /// Short excerpt for display in search results
    pub excerpt: Option<String>,

    /// Module-specific facets for filtering
    pub facets: Option<HashMap<String, SearchDocumentFacetValue>>,

    /// Group this document belongs to
    pub group_id: String,

    /// Unique document ID (format: moduleType:entityId)
    pub id: String,

    /// When this document was indexed (Unix timestamp ms)
    pub indexed_at: i64,

    /// Source module type (messaging, documents, events, wiki, etc.)
    pub module_type: String,

    /// Tags associated with this document
    pub tags: Option<Vec<String>>,

    /// Searchable title/name
    pub title: String,

    /// When the source entity was last updated (Unix timestamp ms)
    pub updated_at: i64,

    /// TF-IDF vector for semantic search (optional)
    pub vector: Option<HashMap<String, f64>>,
}

/// Facet value types - string, number, boolean, string array, or range
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(untagged)]
pub enum SearchDocumentFacetValue {
    Bool(bool),

    Double(f64),

    StickyFacetValue(StickyFacetValue),

    String(String),

    StringArray(Vec<String>),
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct StickyFacetValue {
    pub max: f64,

    pub min: f64,
}

/// Facet value types - string, number, boolean, string array, or range
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(untagged)]
pub enum FacetValue {
    Bool(bool),

    Double(f64),

    IndigoFacetValue(IndigoFacetValue),

    String(String),

    StringArray(Vec<String>),
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct IndigoFacetValue {
    pub max: f64,

    pub min: f64,
}

/// Defines a filterable facet for a module
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct FacetDefinition {
    /// Facet key/identifier
    pub key: String,

    /// Display label for the facet
    pub label: String,

    /// Whether multiple values can be selected
    pub multi_select: bool,

    /// For hierarchical facets, the parent facet key
    pub parent_key: Option<String>,

    /// Type of facet
    #[serde(rename = "type")]
    pub facet_definition_type: FacetDefinitionType,
}

/// Type of facet
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum FacetDefinitionType {
    Boolean,

    Date,

    Hierarchy,

    Keyword,

    Range,
}

/// Defines the scope of a search query
///
/// Search across all accessible groups
///
/// Search within a single group
///
/// Search one module across all groups
///
/// Search one module within a specific group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SearchScope {
    #[serde(rename = "type")]
    pub search_scope_type: SearchScopeType,

    pub group_id: Option<String>,

    pub module_type: Option<String>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "kebab-case")]
pub enum SearchScopeType {
    Global,

    Group,

    Module,

    #[serde(rename = "module-in-group")]
    ModuleInGroup,
}

/// Filter extracted from query or applied via UI
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct QueryFilter {
    /// Filter field (e.g., 'author', 'date', 'tag')
    pub field: String,

    /// Filter operator
    pub operator: Operator,

    /// Filter value
    pub value: QueryFilterFacetValue,
}

/// Filter operator
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Operator {
    Contains,

    Eq,

    Gt,

    Gte,

    In,

    Lt,

    Lte,

    Ne,

    Range,
}

/// Filter value
///
/// Facet value types - string, number, boolean, string array, or range
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(untagged)]
pub enum QueryFilterFacetValue {
    Bool(bool),

    Double(f64),

    IndecentFacetValue(IndecentFacetValue),

    String(String),

    StringArray(Vec<String>),
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct IndecentFacetValue {
    pub max: f64,

    pub min: f64,
}

/// Parsed and normalized search query
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ParsedQuery {
    /// Expanded synonyms
    pub expanded_terms: Option<Vec<String>>,

    /// Detected filters from query syntax
    pub filters: Vec<ParsedQueryFilter>,

    /// Extracted keywords (stemmed)
    pub keywords: Vec<String>,

    /// Exact phrase matches (quoted)
    pub phrases: Vec<String>,

    /// Original raw query string
    pub raw: String,

    /// Active search scope
    pub scope: ParsedQuerySearchScope,
}

/// Filter extracted from query or applied via UI
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct ParsedQueryFilter {
    /// Filter field (e.g., 'author', 'date', 'tag')
    pub field: String,

    /// Filter operator
    pub operator: Operator,

    /// Filter value
    pub value: PurpleFacetValue,
}

/// Filter value
///
/// Facet value types - string, number, boolean, string array, or range
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(untagged)]
pub enum PurpleFacetValue {
    Bool(bool),

    Double(f64),

    HilariousFacetValue(HilariousFacetValue),

    String(String),

    StringArray(Vec<String>),
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct HilariousFacetValue {
    pub max: f64,

    pub min: f64,
}

/// Active search scope
///
/// Defines the scope of a search query
///
/// Search across all accessible groups
///
/// Search within a single group
///
/// Search one module across all groups
///
/// Search one module within a specific group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ParsedQuerySearchScope {
    #[serde(rename = "type")]
    pub search_scope_type: SearchScopeType,

    pub group_id: Option<String>,

    pub module_type: Option<String>,
}

/// A search result with relevance scoring
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SearchResult {
    /// The matching document
    pub document: SearchResultDocument,

    /// Highlighted excerpt with match markers
    pub highlighted_excerpt: Option<String>,

    /// Fields where matches were found
    pub matched_fields: Vec<String>,

    /// Matched terms for highlighting
    pub matched_terms: Vec<String>,

    /// Relevance score (higher is better)
    pub score: f64,
}

/// The matching document
///
/// A document indexed for search - internal representation stored in search index
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SearchResultDocument {
    /// Schema version
    #[serde(rename = "_v")]
    pub v: String,

    /// Author/creator pubkey
    pub author_pubkey: Option<String>,

    /// Searchable content body (plaintext, HTML stripped)
    pub content: String,

    /// When the source entity was created (Unix timestamp ms)
    pub created_at: i64,

    /// Original entity ID in the source module
    pub entity_id: String,

    /// Short excerpt for display in search results
    pub excerpt: Option<String>,

    /// Module-specific facets for filtering
    pub facets: Option<HashMap<String, FluffyFacetValue>>,

    /// Group this document belongs to
    pub group_id: String,

    /// Unique document ID (format: moduleType:entityId)
    pub id: String,

    /// When this document was indexed (Unix timestamp ms)
    pub indexed_at: i64,

    /// Source module type (messaging, documents, events, wiki, etc.)
    pub module_type: String,

    /// Tags associated with this document
    pub tags: Option<Vec<String>>,

    /// Searchable title/name
    pub title: String,

    /// When the source entity was last updated (Unix timestamp ms)
    pub updated_at: i64,

    /// TF-IDF vector for semantic search (optional)
    pub vector: Option<HashMap<String, f64>>,
}

/// Facet value types - string, number, boolean, string array, or range
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(untagged)]
pub enum FluffyFacetValue {
    AmbitiousFacetValue(AmbitiousFacetValue),

    Bool(bool),

    Double(f64),

    String(String),

    StringArray(Vec<String>),
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct AmbitiousFacetValue {
    pub max: f64,

    pub min: f64,
}

/// Aggregated search results
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SearchResults {
    /// Facet counts for filtering UI
    pub facet_counts: Option<FacetCountsClass>,

    /// Query that produced these results
    pub query: QueryClass,

    /// Matching results
    pub results: Vec<ResultElement>,

    /// Search execution time in milliseconds
    pub search_time_ms: f64,

    /// Total count (may exceed results.length for pagination)
    pub total_count: i64,
}

/// Facet counts for filtering UI
///
/// Aggregated facet counts for filtering UI
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct FacetCountsClass {
    /// Author distribution
    pub authors: Option<HashMap<String, i64>>,

    /// Module-specific facet counts
    pub custom: Option<HashMap<String, HashMap<String, i64>>>,

    /// Date histogram (by day)
    pub dates: Option<HashMap<String, i64>>,

    /// Group distribution
    pub groups: Option<HashMap<String, i64>>,

    /// Module type distribution
    pub module_type: Option<HashMap<String, i64>>,

    /// Tag distribution
    pub tags: Option<HashMap<String, i64>>,
}

/// Query that produced these results
///
/// Parsed and normalized search query
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct QueryClass {
    /// Expanded synonyms
    pub expanded_terms: Option<Vec<String>>,

    /// Detected filters from query syntax
    pub filters: Vec<QueryFilterClass>,

    /// Extracted keywords (stemmed)
    pub keywords: Vec<String>,

    /// Exact phrase matches (quoted)
    pub phrases: Vec<String>,

    /// Original raw query string
    pub raw: String,

    /// Active search scope
    pub scope: QuerySearchScope,
}

/// Filter extracted from query or applied via UI
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct QueryFilterClass {
    /// Filter field (e.g., 'author', 'date', 'tag')
    pub field: String,

    /// Filter operator
    pub operator: Operator,

    /// Filter value
    pub value: TentacledFacetValue,
}

/// Filter value
///
/// Facet value types - string, number, boolean, string array, or range
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(untagged)]
pub enum TentacledFacetValue {
    Bool(bool),

    CunningFacetValue(CunningFacetValue),

    Double(f64),

    String(String),

    StringArray(Vec<String>),
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct CunningFacetValue {
    pub max: f64,

    pub min: f64,
}

/// Active search scope
///
/// Defines the scope of a search query
///
/// Search across all accessible groups
///
/// Search within a single group
///
/// Search one module across all groups
///
/// Search one module within a specific group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct QuerySearchScope {
    #[serde(rename = "type")]
    pub search_scope_type: SearchScopeType,

    pub group_id: Option<String>,

    pub module_type: Option<String>,
}

/// A search result with relevance scoring
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ResultElement {
    /// The matching document
    pub document: ResultDocument,

    /// Highlighted excerpt with match markers
    pub highlighted_excerpt: Option<String>,

    /// Fields where matches were found
    pub matched_fields: Vec<String>,

    /// Matched terms for highlighting
    pub matched_terms: Vec<String>,

    /// Relevance score (higher is better)
    pub score: f64,
}

/// The matching document
///
/// A document indexed for search - internal representation stored in search index
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ResultDocument {
    /// Schema version
    #[serde(rename = "_v")]
    pub v: String,

    /// Author/creator pubkey
    pub author_pubkey: Option<String>,

    /// Searchable content body (plaintext, HTML stripped)
    pub content: String,

    /// When the source entity was created (Unix timestamp ms)
    pub created_at: i64,

    /// Original entity ID in the source module
    pub entity_id: String,

    /// Short excerpt for display in search results
    pub excerpt: Option<String>,

    /// Module-specific facets for filtering
    pub facets: Option<HashMap<String, TentacledFacetValue>>,

    /// Group this document belongs to
    pub group_id: String,

    /// Unique document ID (format: moduleType:entityId)
    pub id: String,

    /// When this document was indexed (Unix timestamp ms)
    pub indexed_at: i64,

    /// Source module type (messaging, documents, events, wiki, etc.)
    pub module_type: String,

    /// Tags associated with this document
    pub tags: Option<Vec<String>>,

    /// Searchable title/name
    pub title: String,

    /// When the source entity was last updated (Unix timestamp ms)
    pub updated_at: i64,

    /// TF-IDF vector for semantic search (optional)
    pub vector: Option<HashMap<String, f64>>,
}

/// Aggregated facet counts for filtering UI
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct FacetCounts {
    /// Author distribution
    pub authors: Option<HashMap<String, i64>>,

    /// Module-specific facet counts
    pub custom: Option<HashMap<String, HashMap<String, i64>>>,

    /// Date histogram (by day)
    pub dates: Option<HashMap<String, i64>>,

    /// Group distribution
    pub groups: Option<HashMap<String, i64>>,

    /// Module type distribution
    pub module_type: Option<HashMap<String, i64>>,

    /// Tag distribution
    pub tags: Option<HashMap<String, i64>>,
}

/// Active facet filters for search
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct FacetFilters {
    /// Filter by author pubkeys
    pub authors: Option<Vec<String>>,

    /// Custom facet filters by key
    pub custom: Option<HashMap<String, Vec<FacetFiltersFacetValue>>>,

    /// Filter by date range (Unix timestamps)
    pub date_range: Option<FacetFiltersDateRange>,

    /// Filter by group IDs
    pub group_ids: Option<Vec<String>>,

    /// Filter by module types
    pub module_types: Option<Vec<String>>,

    /// Filter by tags
    pub tags: Option<Vec<String>>,
}

/// Facet value types - string, number, boolean, string array, or range
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(untagged)]
pub enum FacetFiltersFacetValue {
    Bool(bool),

    Double(f64),

    MagentaFacetValue(MagentaFacetValue),

    String(String),

    StringArray(Vec<String>),
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct MagentaFacetValue {
    pub max: f64,

    pub min: f64,
}

/// Filter by date range (Unix timestamps)
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct FacetFiltersDateRange {
    pub end: i64,

    pub start: i64,
}

/// User-defined tag for organizing content
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Tag {
    /// Schema version
    #[serde(rename = "_v")]
    pub v: String,

    /// Optional tag color (hex)
    pub color: Option<String>,

    /// Creation timestamp (Unix ms)
    pub created_at: i64,

    /// Creator pubkey
    pub created_by: String,

    /// Group this tag belongs to
    pub group_id: String,

    /// Unique tag ID
    pub id: String,

    /// Tag display name
    pub name: String,

    /// Parent tag ID for hierarchical tags
    pub parent_tag_id: Option<String>,

    /// URL-safe slug
    pub slug: String,

    /// Last update timestamp (Unix ms)
    pub updated_at: i64,

    /// Number of entities using this tag
    pub usage_count: i64,
}

/// Association between an entity and a tag
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct EntityTag {
    /// Schema version
    #[serde(rename = "_v")]
    pub v: String,

    /// Creation timestamp (Unix ms)
    pub created_at: i64,

    /// Creator pubkey
    pub created_by: String,

    /// ID of the tagged entity
    pub entity_id: String,

    /// Module type of the tagged entity
    pub entity_type: String,

    /// Group ID
    pub group_id: String,

    /// Unique association ID
    pub id: String,

    /// Tag ID
    pub tag_id: String,
}

/// Saved search query for quick access
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SavedSearch {
    /// Schema version
    #[serde(rename = "_v")]
    pub v: String,

    /// Creation timestamp
    pub created_at: i64,

    /// Active filters
    pub filters: Option<FiltersClass>,

    /// Unique saved search ID
    pub id: String,

    /// Last use timestamp
    pub last_used_at: Option<i64>,

    /// Display name for the saved search
    pub name: String,

    /// Search query string
    pub query: String,

    /// Search scope
    pub scope: SavedSearchSearchScope,

    /// Last update timestamp
    pub updated_at: i64,

    /// Number of times this search has been used
    pub use_count: i64,

    /// User who saved this search
    pub user_pubkey: String,
}

/// Active filters
///
/// Active facet filters for search
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct FiltersClass {
    /// Filter by author pubkeys
    pub authors: Option<Vec<String>>,

    /// Custom facet filters by key
    pub custom: Option<HashMap<String, Vec<FiltersFacetValue>>>,

    /// Filter by date range (Unix timestamps)
    pub date_range: Option<FiltersDateRange>,

    /// Filter by group IDs
    pub group_ids: Option<Vec<String>>,

    /// Filter by module types
    pub module_types: Option<Vec<String>>,

    /// Filter by tags
    pub tags: Option<Vec<String>>,
}

/// Facet value types - string, number, boolean, string array, or range
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(untagged)]
pub enum FiltersFacetValue {
    Bool(bool),

    Double(f64),

    FriskyFacetValue(FriskyFacetValue),

    String(String),

    StringArray(Vec<String>),
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct FriskyFacetValue {
    pub max: f64,

    pub min: f64,
}

/// Filter by date range (Unix timestamps)
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct FiltersDateRange {
    pub end: i64,

    pub start: i64,
}

/// Search scope
///
/// Defines the scope of a search query
///
/// Search across all accessible groups
///
/// Search within a single group
///
/// Search one module across all groups
///
/// Search one module within a specific group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SavedSearchSearchScope {
    #[serde(rename = "type")]
    pub search_scope_type: SearchScopeType,

    pub group_id: Option<String>,

    pub module_type: Option<String>,
}

/// Recent search entry for history
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct RecentSearch {
    /// Schema version
    #[serde(rename = "_v")]
    pub v: String,

    /// Unique entry ID
    pub id: String,

    /// Search query
    pub query: String,

    /// Number of results returned
    pub result_count: i64,

    /// Search scope
    pub scope: RecentSearchSearchScope,

    /// When the search was performed
    pub timestamp: i64,

    /// User pubkey
    pub user_pubkey: String,
}

/// Search scope
///
/// Defines the scope of a search query
///
/// Search across all accessible groups
///
/// Search within a single group
///
/// Search one module across all groups
///
/// Search one module within a specific group
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct RecentSearchSearchScope {
    #[serde(rename = "type")]
    pub search_scope_type: SearchScopeType,

    pub group_id: Option<String>,

    pub module_type: Option<String>,
}

/// Configuration for a module's search provider
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SearchProviderConfig {
    /// Result boost factor for this module (default: 1.0)
    pub boost: Option<f64>,

    /// Whether this provider is active
    pub enabled: bool,

    /// Facets this module provides
    pub facet_definitions: Vec<FacetDefinitionElement>,

    /// Module type this provider handles
    pub module_type: String,
}

/// Defines a filterable facet for a module
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct FacetDefinitionElement {
    /// Facet key/identifier
    pub key: String,

    /// Display label for the facet
    pub label: String,

    /// Whether multiple values can be selected
    pub multi_select: bool,

    /// For hierarchical facets, the parent facet key
    pub parent_key: Option<String>,

    /// Type of facet
    #[serde(rename = "type")]
    pub facet_definition_type: FacetDefinitionType,
}

/// Options for fine-tuning search behavior
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SearchOptions {
    /// Field boost weights
    pub boost: Option<HashMap<String, f64>>,

    /// Enable fuzzy matching
    pub fuzzy: Option<bool>,

    /// Fuzzy match threshold (0-1)
    pub fuzzy_threshold: Option<f64>,

    /// Highlight matched terms in results
    pub highlight: Option<bool>,

    /// Maximum results to return
    pub limit: Option<i64>,

    /// Results to skip (pagination)
    pub offset: Option<i64>,

    /// Enable prefix matching
    pub prefix: Option<bool>,

    /// Enable semantic/TF-IDF search
    pub semantic: Option<bool>,

    /// Semantic search weight (0-1), default 0.3
    pub semantic_weight: Option<f64>,
}

/// Statistics about the search index
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct IndexStats {
    /// Documents by group
    pub by_group: HashMap<String, i64>,

    /// Documents by module type
    pub by_module_type: HashMap<String, i64>,

    /// Last full reindex timestamp
    pub last_full_reindex: Option<i64>,

    /// Last incremental update timestamp
    pub last_incremental_update: Option<i64>,

    /// Estimated index size in bytes
    pub size_bytes: i64,

    /// Total documents indexed
    pub total_documents: i64,

    /// Total unique terms in index
    pub unique_terms: i64,
}

/// Concept expansion for semantic search in organizing contexts
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct ConceptExpansion {
    /// Broader concept
    pub broader: Option<String>,

    /// Narrower concepts
    pub narrower: Option<Vec<String>>,

    /// Related/synonym terms
    pub synonyms: Vec<String>,

    /// Primary term
    pub term: String,
}

