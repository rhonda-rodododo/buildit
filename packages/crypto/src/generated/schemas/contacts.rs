//! Contacts module schema types
//!
//! @generated from protocol/schemas/modules/contacts/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Contacts module
pub const CONTACTS_VERSION: &str = "1.0.0";
/// Minimum reader version for Contacts module
pub const CONTACTS_MIN_READER_VERSION: &str = "1.0.0";

/// Metadata for a contact (NIP-02 derived)
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ContactMetadata {
    #[serde(rename = "_v")]
    pub v: String,

    pub avatar: Option<String>,

    pub bio: Option<String>,

    pub display_name: Option<String>,

    /// Lightning address
    pub lud16: Option<String>,

    pub nip05: Option<String>,

    pub petname: Option<String>,

    pub pubkey: String,

    pub relay: Option<String>,
}

/// A contact with relationship information
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Contact {
    #[serde(rename = "_v")]
    pub v: String,

    pub avatar: Option<String>,

    pub bio: Option<String>,

    pub blocked_at: Option<i64>,

    pub display_name: Option<String>,

    pub followed_at: Option<i64>,

    pub lud16: Option<String>,

    pub muted_at: Option<i64>,

    pub nip05: Option<String>,

    pub petname: Option<String>,

    pub pubkey: String,

    pub relationship: RelationshipType,

    pub relay: Option<String>,
}

/// Type of relationship with a contact
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum RelationshipType {
    Blocked,

    Follower,

    Following,

    Friend,
}

/// A note attached to a contact
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ContactNote {
    #[serde(rename = "_v")]
    pub v: String,

    pub category: NoteCategory,

    pub contact_pubkey: String,

    pub content: String,

    pub created_at: i64,

    pub id: String,

    pub updated_at: Option<i64>,
}

/// Category for contact notes
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum NoteCategory {
    Concern,

    #[serde(rename = "follow_up")]
    FollowUp,

    General,

    Meeting,

    Positive,

    Task,
}

/// A tag applied to a contact
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct ContactTag {
    #[serde(rename = "_v")]
    pub v: String,

    pub contact_pubkey: String,

    pub tag: PredefinedTag,
}

/// Predefined contact tags for organizing
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum PredefinedTag {
    Ally,

    Donor,

    Inactive,

    Leader,

    #[serde(rename = "media_contact")]
    MediaContact,

    Member,

    Potential,

    Steward,

    #[serde(rename = "union_rep")]
    UnionRep,

    Volunteer,
}

