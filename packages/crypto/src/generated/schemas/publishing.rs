//! Publishing module schema types
//!
//! @generated from protocol/schemas/modules/publishing/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Publishing module
pub const PUBLISHING_VERSION: &str = "1.0.0";
/// Minimum reader version for Publishing module
pub const PUBLISHING_MIN_READER_VERSION: &str = "1.0.0";

/// A published article or blog post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Article {
    #[serde(rename = "_v")]
    pub v: String,

    pub author_name: Option<String>,

    pub author_pubkey: String,

    /// Original URL if cross-posted
    pub canonical_url: Option<String>,

    pub categories: Option<Vec<String>>,

    pub coauthors: Option<Vec<String>>,

    /// Article content (markdown)
    pub content: String,

    pub cover_image: Option<String>,

    pub created_at: i64,

    /// Short preview text
    pub excerpt: Option<String>,

    pub group_id: Option<String>,

    pub id: String,

    /// Publication timestamp
    pub published_at: Option<i64>,

    /// Estimated reading time in minutes
    pub reading_time: Option<i64>,

    pub seo: Option<SeoClass>,

    /// URL-friendly identifier
    pub slug: Option<String>,

    pub status: Option<Status>,

    pub subtitle: Option<String>,

    pub tags: Option<Vec<String>>,

    pub title: String,

    pub updated_at: Option<i64>,

    pub view_count: Option<i64>,

    pub visibility: Option<Visibility>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SeoClass {
    pub keywords: Option<Vec<String>>,

    pub meta_description: Option<String>,

    pub meta_title: Option<String>,

    pub og_image: Option<String>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Status {
    Archived,

    Draft,

    Published,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Visibility {
    Group,

    Private,

    Public,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SeoMetadata {
    pub keywords: Option<Vec<String>>,

    pub meta_description: Option<String>,

    pub meta_title: Option<String>,

    pub og_image: Option<String>,
}

/// A comment on an article
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Comment {
    #[serde(rename = "_v")]
    pub v: String,

    pub article_id: String,

    pub author_name: Option<String>,

    pub author_pubkey: String,

    pub content: String,

    pub created_at: i64,

    pub id: String,

    /// Parent comment ID for replies
    pub parent_id: Option<String>,

    pub updated_at: Option<i64>,
}

/// A publication or blog collection
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Publication {
    #[serde(rename = "_v")]
    pub v: String,

    pub cover_image: Option<String>,

    pub created_at: i64,

    pub description: Option<String>,

    pub editors: Option<Vec<String>>,

    pub group_id: Option<String>,

    pub id: String,

    pub logo: Option<String>,

    pub name: String,

    pub owner_pubkey: String,

    pub visibility: Option<Visibility>,
}

