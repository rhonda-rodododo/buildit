//! Files module schema types
//!
//! @generated from protocol/schemas/modules/files/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Files module
pub const FILES_VERSION: &str = "1.0.0";
/// Minimum reader version for Files module
pub const FILES_MIN_READER_VERSION: &str = "1.0.0";

/// A shared file with metadata
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct File {
    /// Schema version
    #[serde(rename = "_v")]
    pub v: String,

    /// Optional file description
    pub description: Option<String>,

    /// Dimensions for image/video files
    pub dimensions: Option<Dimensions>,

    /// Duration in seconds for audio/video
    pub duration: Option<f64>,

    /// Whether file content is encrypted
    pub encrypted: Option<bool>,

    /// Key ID used for encryption
    pub encryption_key_id: Option<String>,

    /// Parent folder ID
    pub folder_id: Option<String>,

    /// Associated group ID
    pub group_id: Option<String>,

    /// SHA-256 hash of file content
    pub hash: Option<String>,

    /// Unique file identifier
    pub id: String,

    /// MIME type of the file
    pub mime_type: String,

    /// File name with extension
    pub name: String,

    /// File size in bytes
    pub size: i64,

    /// Thumbnail URL for images/videos
    pub thumbnail: Option<String>,

    /// Upload timestamp (Unix seconds)
    pub uploaded_at: i64,

    /// Uploader's public key
    pub uploaded_by: String,

    /// File URL (may be encrypted)
    pub url: String,

    pub visibility: Option<Visibility>,
}

/// Dimensions for image/video files
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct Dimensions {
    pub height: Option<i64>,

    pub width: Option<i64>,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Visibility {
    Group,

    Private,

    Public,
}

/// A folder for organizing files
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Folder {
    #[serde(rename = "_v")]
    pub v: String,

    /// Folder color for UI
    pub color: Option<String>,

    pub created_at: i64,

    pub created_by: String,

    pub group_id: Option<String>,

    pub id: String,

    pub name: String,

    /// Parent folder ID for nesting
    pub parent_id: Option<String>,
}

/// File sharing permission
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct FileShare {
    #[serde(rename = "_v")]
    pub v: String,

    /// Share expiration timestamp
    pub expires_at: Option<i64>,

    pub file_id: String,

    pub permission: Permission,

    pub shared_at: i64,

    pub shared_by: String,

    /// Recipient's public key
    pub shared_with: String,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Permission {
    Download,

    Edit,

    View,
}

