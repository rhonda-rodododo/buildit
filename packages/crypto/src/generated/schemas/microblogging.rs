//! Microblogging module schema types
//!
//! @generated from protocol/schemas/modules/microblogging/v1.json
//! Version: 1.0.0
//! Min Reader Version: 1.0.0
//!
//! DO NOT EDIT - This file is auto-generated by tools/codegen using quicktype

use serde::{Deserialize, Serialize};

/// Schema version for Microblogging module
pub const MICROBLOGGING_VERSION: &str = "1.0.0";
/// Minimum reader version for Microblogging module
pub const MICROBLOGGING_MIN_READER_VERSION: &str = "1.0.0";

/// Post visibility settings
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct PostVisibility {
    #[serde(rename = "_v")]
    pub v: String,

    pub allowed_users: Option<Vec<String>>,

    pub group_ids: Option<Vec<String>>,

    pub privacy: PostPrivacy,
}

/// Privacy level for posts
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum PostPrivacy {
    Encrypted,

    Followers,

    Group,

    Public,
}

/// A media file attached to a post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct MediaAttachment {
    /// Alt text for accessibility
    pub alt: Option<String>,

    pub blur_on_load: Option<bool>,

    pub caption: Option<String>,

    pub content_warning: Option<bool>,

    pub encrypted: bool,

    /// Base64 encoded encryption key
    pub encryption_key: Option<String>,

    pub filename: String,

    pub id: String,

    pub mime_type: String,

    /// File size in bytes
    pub size: i64,

    pub thumbnail_url: Option<String>,

    #[serde(rename = "type")]
    pub media_attachment_type: Type,

    pub url: String,
}

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Type {
    Audio,

    Document,

    Image,

    Video,
}

/// Signal-style encrypted link preview (fetched by sender, zero third-party requests for
/// recipients)
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct PostLinkPreview {
    pub description: Option<String>,

    /// Base64-encoded favicon
    pub favicon_data: Option<String>,

    /// Base64-encoded thumbnail
    pub image_data: Option<String>,

    pub image_type: Option<String>,

    pub site_name: Option<String>,

    pub title: Option<String>,

    pub url: String,
}

/// Privacy-preserving location data attached to a post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct PostLocation {
    /// Display label for the location
    pub label: String,

    pub lat: f64,

    pub lng: f64,

    /// How precisely the location is shared
    pub precision: Precision,
}

/// How precisely the location is shared
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum Precision {
    Area,

    City,

    Country,

    Exact,

    Region,
}

/// A microblog post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Post {
    #[serde(rename = "_v")]
    pub v: String,

    pub author_id: String,

    pub bookmark_count: Option<i64>,

    pub comment_count: Option<i64>,

    pub content: String,

    pub content_type: PostContentType,

    pub content_warning: Option<String>,

    pub created_at: i64,

    pub hashtags: Option<Vec<String>>,

    pub id: String,

    pub is_pinned: Option<bool>,

    pub is_quote: Option<bool>,

    pub is_repost: Option<bool>,

    pub is_sensitive: Option<bool>,

    /// Privacy-preserving link previews (encrypted with post content)
    pub link_previews: Option<Vec<LinkPreviewElement>>,

    pub links: Option<Vec<String>>,

    pub location: Option<LocationClass>,

    /// Media files attached to the post
    pub media: Option<Vec<MediaElement>>,

    pub mentions: Option<Vec<String>>,

    pub nostr_event_id: Option<String>,

    pub pinned_at: Option<i64>,

    pub quoted_content: Option<String>,

    pub quoted_post_id: Option<String>,

    pub reaction_count: Option<i64>,

    pub relay_urls: Option<Vec<String>>,

    pub repost_count: Option<i64>,

    pub reposted_post_id: Option<String>,

    pub updated_at: Option<i64>,

    pub visibility: VisibilityClass,
}

/// Primary content type of a post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "kebab-case")]
pub enum PostContentType {
    #[serde(rename = "document-share")]
    DocumentShare,

    #[serde(rename = "event-share")]
    EventShare,

    Image,

    Poll,

    Text,

    Video,
}

/// Signal-style encrypted link preview (fetched by sender, zero third-party requests for
/// recipients)
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct LinkPreviewElement {
    pub description: Option<String>,

    /// Base64-encoded favicon
    pub favicon_data: Option<String>,

    /// Base64-encoded thumbnail
    pub image_data: Option<String>,

    pub image_type: Option<String>,

    pub site_name: Option<String>,

    pub title: Option<String>,

    pub url: String,
}

/// Privacy-preserving location data attached to a post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
pub struct LocationClass {
    /// Display label for the location
    pub label: String,

    pub lat: f64,

    pub lng: f64,

    /// How precisely the location is shared
    pub precision: Precision,
}

/// A media file attached to a post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct MediaElement {
    /// Alt text for accessibility
    pub alt: Option<String>,

    pub blur_on_load: Option<bool>,

    pub caption: Option<String>,

    pub content_warning: Option<bool>,

    pub encrypted: bool,

    /// Base64 encoded encryption key
    pub encryption_key: Option<String>,

    pub filename: String,

    pub id: String,

    pub mime_type: String,

    /// File size in bytes
    pub size: i64,

    pub thumbnail_url: Option<String>,

    #[serde(rename = "type")]
    pub media_attachment_type: Type,

    pub url: String,
}

/// Post visibility settings
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct VisibilityClass {
    #[serde(rename = "_v")]
    pub v: String,

    pub allowed_users: Option<Vec<String>>,

    pub group_ids: Option<Vec<String>>,

    pub privacy: PostPrivacy,
}

/// A comment on a post (threaded)
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Comment {
    #[serde(rename = "_v")]
    pub v: String,

    pub author_id: String,

    pub content: String,

    pub created_at: i64,

    pub depth: i64,

    pub id: String,

    pub is_reported: Option<bool>,

    pub nostr_event_id: Option<String>,

    pub parent_comment_id: Option<String>,

    pub post_id: String,

    pub reaction_count: Option<i64>,

    pub updated_at: Option<i64>,
}

/// A reaction on a post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Reaction {
    #[serde(rename = "_v")]
    pub v: String,

    pub created_at: i64,

    pub id: String,

    pub nostr_event_id: Option<String>,

    pub post_id: String,

    #[serde(rename = "type")]
    pub reaction_type: ReactionType,

    pub user_id: String,
}

/// Emoji reaction type
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum ReactionType {
    Eyes,

    Fire,

    Fist,

    Heart,

    Laugh,

    #[serde(rename = "thumbs_up")]
    ThumbsUp,
}

/// A repost or quote repost
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Repost {
    #[serde(rename = "_v")]
    pub v: String,

    pub created_at: i64,

    pub id: String,

    pub is_quote: bool,

    pub nostr_event_id: Option<String>,

    pub post_id: String,

    pub quote_content: Option<String>,

    pub user_id: String,
}

/// A bookmarked post
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Bookmark {
    #[serde(rename = "_v")]
    pub v: String,

    pub collection_id: Option<String>,

    pub created_at: i64,

    pub id: String,

    pub notes: Option<String>,

    pub post_id: String,

    pub tags: Option<Vec<String>>,

    pub user_id: String,
}

