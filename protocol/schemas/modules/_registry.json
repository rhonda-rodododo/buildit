{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://buildit.network/schemas/modules/_registry.json",
  "title": "ModuleRegistry",
  "description": "Registry of all BuildIt module schemas and their versions",
  "type": "object",

  "properties": {
    "registryVersion": {
      "const": "1.1.0"
    },
    "updatedAt": {
      "type": "string",
      "format": "date"
    }
  },

  "modules": {
    "content": {
      "name": "Content",
      "description": "Shared content types â€” link previews, embeds, and reusable content primitives",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "content/v1.json",
      "coreDependency": true
    },
    "custom-fields": {
      "name": "Custom Fields",
      "description": "Foundational module for extensible field definitions",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "custom-fields/v1.json",
      "coreDependency": true
    },
    "messaging": {
      "name": "Messaging",
      "description": "Direct messages and group threads",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "messaging/v1.json",
      "coreDependency": true
    },
    "events": {
      "name": "Events",
      "description": "Event scheduling and RSVP management",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": ["custom-fields"],
      "schemaPath": "events/v1.json",
      "coreDependency": false
    },
    "governance": {
      "name": "Governance",
      "description": "Proposals, voting, and decision-making",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": ["custom-fields"],
      "schemaPath": "governance/v1.json",
      "coreDependency": false
    },
    "mutual-aid": {
      "name": "Mutual Aid",
      "description": "Resource sharing and request management",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": ["custom-fields"],
      "schemaPath": "mutual-aid/v1.json",
      "coreDependency": false
    },
    "wiki": {
      "name": "Wiki",
      "description": "Collaborative knowledge base",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "wiki/v1.json",
      "coreDependency": false
    },
    "documents": {
      "name": "Documents",
      "description": "Collaborative documents and knowledge base",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "documents/v1.json",
      "coreDependency": false
    },
    "files": {
      "name": "Files",
      "description": "File storage and sharing",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "files/v1.json",
      "coreDependency": false
    },
    "forms": {
      "name": "Forms",
      "description": "Surveys, polls, and data collection",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": ["custom-fields"],
      "schemaPath": "forms/v1.json",
      "coreDependency": false
    },
    "crm": {
      "name": "CRM",
      "description": "Contact and relationship management for organizing",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": ["custom-fields"],
      "schemaPath": "crm/v1.json",
      "coreDependency": false
    },
    "database": {
      "name": "Database",
      "description": "Custom structured data tables",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": ["custom-fields"],
      "schemaPath": "database/v1.json",
      "coreDependency": false
    },
    "fundraising": {
      "name": "Fundraising",
      "description": "Campaigns, donations, and financial tracking",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "fundraising/v1.json",
      "coreDependency": false
    },
    "publishing": {
      "name": "Publishing",
      "description": "Blogs, articles, and long-form content",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "publishing/v1.json",
      "coreDependency": false
    },
    "newsletters": {
      "name": "Newsletters",
      "description": "Email campaigns and subscriber management",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": ["crm"],
      "schemaPath": "newsletters/v1.json",
      "coreDependency": false
    },
    "calling": {
      "name": "Calling",
      "description": "Real-time voice/video calling with E2EE WebRTC",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": ["messaging"],
      "schemaPath": "calling/v1.json",
      "coreDependency": false
    },
    "search": {
      "name": "Search",
      "description": "E2EE-respecting client-side search with semantic capabilities",
      "currentVersion": "1.0.0",
      "versions": ["1.0.0"],
      "dependencies": [],
      "schemaPath": "search/v1.json",
      "coreDependency": true
    }
  },

  "deprecations": [],

  "compatibilityPolicy": {
    "supportWindow": "6 months",
    "coreMessagingSupport": "indefinite",
    "breakingChangeNotice": "30 days minimum"
  },

  "nostrEventKindRanges": {
    "events": "40001-40009",
    "documents": "40011-40019",
    "files": "40021-40029",
    "forms": "40031-40039",
    "crm": "40041-40049",
    "database": "40051-40059",
    "fundraising": "40061-40069",
    "publishing": "40071-40079",
    "newsletters": "40081-40089",
    "governance": "40091-40099",
    "mutual-aid": "40101-40109",
    "wiki": "40111-40119",
    "calling": "24300-24399",
    "search": "40121-40129"
  }
}
