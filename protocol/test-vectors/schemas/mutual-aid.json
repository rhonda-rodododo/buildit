{
  "version": "1.0.0",
  "description": "Mutual Aid module schema serialization test vectors",
  "schema_version": "1.0.0",
  "vectors": [
    {
      "id": "mutualaid-request-001",
      "description": "Complete aid request - all fields",
      "input": {
        "_v": "1.0.0",
        "id": "req-550e8400-e29b-41d4-a716-446655440000",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "title": "Need groceries for the week",
        "description": "Family of 4, dietary restrictions: gluten-free",
        "category": "food",
        "status": "open",
        "urgency": "medium",
        "requesterId": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "anonymousRequest": false,
        "location": {
          "type": "area",
          "city": "Brooklyn",
          "region": "NY",
          "privacyLevel": "city-only"
        },
        "neededBy": 1704153600,
        "quantityNeeded": 4,
        "quantityFulfilled": 0,
        "unit": "bags",
        "tags": ["food", "groceries", "family"],
        "createdAt": 1704067200,
        "updatedAt": null,
        "closedAt": null
      },
      "expected": {
        "json_valid": true,
        "all_fields_present": true,
        "deserialization_equals_input": true
      }
    },
    {
      "id": "mutualaid-request-002",
      "description": "Anonymous request with minimal fields",
      "input": {
        "_v": "1.0.0",
        "id": "req-550e8400-e29b-41d4-a716-446655440002",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "title": "Emergency shelter needed",
        "category": "housing",
        "status": "open",
        "urgency": "critical",
        "requesterId": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "anonymousRequest": true,
        "createdAt": 1704067200
      },
      "expected": {
        "json_valid": true,
        "anonymous_flag_true": true,
        "optional_fields_absent": true
      }
    },
    {
      "id": "mutualaid-request-003",
      "description": "Request with recurring need",
      "input": {
        "_v": "1.0.0",
        "id": "req-550e8400-e29b-41d4-a716-446655440003",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "title": "Weekly meal delivery for elderly neighbor",
        "category": "food",
        "status": "open",
        "urgency": "medium",
        "requesterId": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "recurringNeed": {
          "frequency": "weekly",
          "daysOfWeek": [1, 3, 5],
          "occurrences": 12
        },
        "createdAt": 1704067200
      },
      "expected": {
        "json_valid": true,
        "recurring_need_preserved": true
      }
    },
    {
      "id": "mutualaid-offer-001",
      "description": "Complete aid offer - all fields",
      "input": {
        "_v": "1.0.0",
        "id": "ofr-550e8400-e29b-41d4-a716-446655440000",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "title": "Free hot meals available",
        "description": "Cooking extra meals, can deliver within 5 miles",
        "category": "food",
        "status": "active",
        "offererId": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "location": {
          "type": "point",
          "city": "Brooklyn",
          "region": "NY",
          "coordinates": {
            "lat": 40.6782,
            "lng": -73.9442
          },
          "radius": 8.0,
          "privacyLevel": "approximate"
        },
        "availableFrom": 1704067200,
        "availableUntil": 1704153600,
        "quantity": 10,
        "unit": "meals",
        "tags": ["food", "hot-meals", "delivery"],
        "createdAt": 1704067200
      },
      "expected": {
        "json_valid": true,
        "all_fields_present": true,
        "location_radius_preserved": true
      }
    },
    {
      "id": "mutualaid-offer-002",
      "description": "Offer with claims",
      "input": {
        "_v": "1.0.0",
        "id": "ofr-550e8400-e29b-41d4-a716-446655440001",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "title": "Moving supplies to share",
        "category": "supplies",
        "status": "claimed",
        "offererId": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "quantity": 20,
        "unit": "boxes",
        "claimedBy": [
          {
            "claimerId": "c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5",
            "quantity": 5,
            "message": "Need 5 boxes for apartment move",
            "status": "approved",
            "claimedAt": 1704070800
          },
          {
            "claimerId": "f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9",
            "quantity": 10,
            "status": "pending",
            "claimedAt": 1704074400
          }
        ],
        "createdAt": 1704067200
      },
      "expected": {
        "json_valid": true,
        "claims_array_preserved": true,
        "claim_details_correct": true
      }
    },
    {
      "id": "mutualaid-fulfillment-001",
      "description": "Complete fulfillment with rating",
      "input": {
        "_v": "1.0.0",
        "id": "ful-550e8400-e29b-41d4-a716-446655440000",
        "requestId": "req-550e8400-e29b-41d4-a716-446655440000",
        "fulfillerId": "c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5",
        "status": "completed",
        "quantity": 4,
        "message": "Dropped off groceries at the community center",
        "scheduledFor": 1704081600,
        "completedAt": 1704085200,
        "rating": 5,
        "feedback": "Very helpful and timely delivery!",
        "createdAt": 1704067200
      },
      "expected": {
        "json_valid": true,
        "rating_in_range": true,
        "feedback_preserved": true
      }
    },
    {
      "id": "mutualaid-rideshare-001",
      "description": "Rideshare offer with passengers",
      "input": {
        "_v": "1.0.0",
        "id": "ride-550e8400-e29b-41d4-a716-446655440000",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "type": "offer",
        "driverId": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "origin": {
          "type": "point",
          "city": "Brooklyn",
          "region": "NY",
          "coordinates": { "lat": 40.6782, "lng": -73.9442 }
        },
        "destination": {
          "type": "point",
          "city": "Manhattan",
          "region": "NY",
          "coordinates": { "lat": 40.7589, "lng": -73.9851 }
        },
        "departureTime": 1704110400,
        "flexibility": 30,
        "availableSeats": 3,
        "preferences": {
          "smokingAllowed": false,
          "petsAllowed": true,
          "wheelchairAccessible": false,
          "luggageSpace": "medium"
        },
        "passengers": [
          {
            "passengerId": "c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5",
            "status": "confirmed",
            "pickup": {
              "type": "point",
              "city": "Brooklyn",
              "region": "NY"
            }
          }
        ],
        "status": "active",
        "notes": "Meeting at the coffee shop on the corner",
        "createdAt": 1704067200
      },
      "expected": {
        "json_valid": true,
        "origin_destination_preserved": true,
        "passengers_array_correct": true,
        "preferences_preserved": true
      }
    },
    {
      "id": "mutualaid-resource-001",
      "description": "Community resource directory entry",
      "input": {
        "_v": "1.0.0",
        "id": "res-550e8400-e29b-41d4-a716-446655440000",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "name": "Brooklyn Food Pantry",
        "description": "Free groceries for community members in need",
        "category": "food",
        "contact": {
          "phone": "+1-718-555-0123",
          "email": "info@brooklynpantry.org",
          "website": "https://brooklynpantry.org"
        },
        "location": {
          "type": "point",
          "address": "456 Community Ave",
          "city": "Brooklyn",
          "region": "NY",
          "postalCode": "11201",
          "coordinates": { "lat": 40.6892, "lng": -73.9857 }
        },
        "hours": "Mon-Fri 9am-5pm, Sat 10am-2pm",
        "eligibility": "Brooklyn residents, proof of address required",
        "languages": ["en", "es", "zh"],
        "verified": true,
        "verifiedBy": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "verifiedAt": 1704067200,
        "tags": ["food", "pantry", "free"],
        "createdBy": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "createdAt": 1704000000
      },
      "expected": {
        "json_valid": true,
        "contact_info_preserved": true,
        "languages_array_correct": true,
        "verified_fields_present": true
      }
    },
    {
      "id": "mutualaid-request-004",
      "description": "Request with custom fields",
      "input": {
        "_v": "1.0.0",
        "id": "req-550e8400-e29b-41d4-a716-446655440004",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "title": "Transportation to medical appointment",
        "category": "transportation",
        "status": "open",
        "urgency": "high",
        "requesterId": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "customFields": {
          "appointment_time": "2:30 PM",
          "wheelchair_required": true,
          "round_trip": true,
          "medical_equipment": ["oxygen tank", "walker"]
        },
        "createdAt": 1704067200
      },
      "expected": {
        "json_valid": true,
        "custom_fields_preserved": true,
        "nested_arrays_in_custom_fields": true
      }
    },
    {
      "id": "mutualaid-serialize-unicode",
      "description": "Request with unicode content",
      "input": {
        "_v": "1.0.0",
        "id": "req-550e8400-e29b-41d4-a716-446655440005",
        "groupId": "grp-550e8400-e29b-41d4-a716-446655440001",
        "title": "ÈúÄË¶ÅÁøªËØëÂ∏ÆÂä© - Translation help needed üåç",
        "description": "Necesito ayuda con documentos importantes",
        "category": "translation",
        "status": "open",
        "urgency": "medium",
        "requesterId": "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "createdAt": 1704067200
      },
      "expected": {
        "json_valid": true,
        "utf8_preserved": true,
        "emoji_preserved": true
      }
    }
  ],
  "schema_requirements": {
    "aid_request": {
      "required_fields": ["_v", "id", "groupId", "title", "category", "status", "requesterId", "createdAt"],
      "optional_fields": ["description", "urgency", "anonymousRequest", "location", "neededBy", "recurringNeed", "fulfillments", "quantityNeeded", "quantityFulfilled", "unit", "tags", "customFields", "updatedAt", "closedAt"]
    },
    "aid_offer": {
      "required_fields": ["_v", "id", "groupId", "title", "category", "status", "offererId", "createdAt"],
      "optional_fields": ["description", "location", "availableFrom", "availableUntil", "recurringAvailability", "quantity", "unit", "claimedBy", "tags", "customFields", "updatedAt"]
    },
    "fulfillment": {
      "required_fields": ["_v", "id", "requestId", "fulfillerId", "status", "createdAt"],
      "optional_fields": ["quantity", "message", "scheduledFor", "completedAt", "rating", "feedback"]
    },
    "rideshare": {
      "required_fields": ["_v", "id", "groupId", "type", "origin", "destination", "departureTime", "status", "createdAt"],
      "optional_fields": ["driverId", "requesterId", "flexibility", "availableSeats", "recurring", "preferences", "passengers", "notes", "updatedAt"]
    },
    "resource_directory": {
      "required_fields": ["_v", "id", "groupId", "name", "category", "createdBy", "createdAt"],
      "optional_fields": ["description", "contact", "location", "hours", "eligibility", "languages", "verified", "verifiedBy", "verifiedAt", "tags", "updatedAt"]
    }
  },
  "enum_values": {
    "category": ["food", "housing", "transportation", "rideshare", "medical", "mental-health", "childcare", "pet-care", "legal", "financial", "employment", "education", "technology", "translation", "supplies", "clothing", "furniture", "household", "safety", "other"],
    "request_status": ["open", "in-progress", "partially-fulfilled", "fulfilled", "closed", "expired", "cancelled"],
    "offer_status": ["active", "claimed", "expired", "withdrawn"],
    "fulfillment_status": ["offered", "accepted", "in-progress", "completed", "cancelled", "declined"],
    "urgency": ["low", "medium", "high", "critical"],
    "claim_status": ["pending", "approved", "declined", "completed"],
    "ride_type": ["offer", "request"],
    "ride_status": ["active", "full", "departed", "completed", "cancelled"],
    "location_type": ["point", "area", "flexible", "remote"],
    "privacy_level": ["exact", "approximate", "city-only", "hidden"]
  },
  "serialization_notes": [
    "All timestamps are Unix epoch seconds (integers)",
    "Location coordinates use 'lat' and 'lng' field names",
    "Empty arrays should be omitted, not serialized as []",
    "Rating must be integer 1-5",
    "Quantities can be fractional (doubles)"
  ]
}
